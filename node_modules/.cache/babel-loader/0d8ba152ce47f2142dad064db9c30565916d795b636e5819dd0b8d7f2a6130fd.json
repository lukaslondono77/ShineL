{"ast":null,"code":"var _jsxFileName = \"/Users/lukasygina/image-share-app-1/client/src/context/ProjectContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect, useCallback } from 'react';\nimport { io } from 'socket.io-client';\nimport api from '../utils/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProjectContext = /*#__PURE__*/createContext();\nexport const useProject = () => {\n  _s();\n  const context = useContext(ProjectContext);\n  if (!context) {\n    throw new Error('useProject must be used within a ProjectProvider');\n  }\n  return context;\n};\n_s(useProject, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const ProjectProvider = ({\n  children\n}) => {\n  _s2();\n  const [socket, setSocket] = useState(null);\n  const [currentProject, setCurrentProject] = useState(null);\n  const [files, setFiles] = useState([]);\n  const [openFiles, setOpenFiles] = useState([]);\n  const [activeFileId, setActiveFileId] = useState(null);\n  const [activeUsers, setActiveUsers] = useState([]);\n  const [cursors, setCursors] = useState({});\n  const [executionOutput, setExecutionOutput] = useState(null);\n  const [isExecuting, setIsExecuting] = useState(false);\n\n  // Initialize Socket.IO connection\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (!token) return;\n    const newSocket = io(process.env.REACT_APP_API_URL || 'http://localhost:5001', {\n      auth: {\n        token\n      }\n    });\n    newSocket.on('connect', () => {\n      console.log('Socket connected:', newSocket.id);\n    });\n    newSocket.on('error', error => {\n      console.error('Socket error:', error);\n    });\n    newSocket.on('disconnect', () => {\n      console.log('Socket disconnected');\n    });\n    setSocket(newSocket);\n    return () => {\n      newSocket.close();\n    };\n  }, []);\n\n  // Load project\n  const loadProject = useCallback(async projectId => {\n    try {\n      const response = await api.get(`/projects/${projectId}`);\n      setCurrentProject(response.data);\n      setFiles(response.data.files || []);\n\n      // Join project room\n      if (socket) {\n        socket.emit('join_project', {\n          projectId,\n          userId: response.data.owner._id || response.data.owner\n        });\n      }\n    } catch (error) {\n      console.error('Failed to load project:', error);\n      throw error;\n    }\n  }, [socket]);\n\n  // Leave project\n  const leaveProject = useCallback(() => {\n    if (socket && currentProject) {\n      socket.emit('leave_project', {\n        projectId: currentProject._id,\n        userId: currentProject.owner._id || currentProject.owner\n      });\n    }\n    setCurrentProject(null);\n    setFiles([]);\n    setOpenFiles([]);\n    setActiveFileId(null);\n    setActiveUsers([]);\n    setCursors({});\n  }, [socket, currentProject]);\n\n  // Open file in editor\n  const openFile = useCallback(async file => {\n    // Check if already open\n    const existingFile = openFiles.find(f => f._id === file._id);\n    if (existingFile) {\n      setActiveFileId(file._id);\n      return;\n    }\n\n    // Load file content if not loaded\n    if (!file.content) {\n      try {\n        const response = await api.get(`/projects/${currentProject._id}/files/${file._id}`);\n        file = response.data;\n      } catch (error) {\n        console.error('Failed to load file:', error);\n        return;\n      }\n    }\n    setOpenFiles(prev => [...prev, file]);\n    setActiveFileId(file._id);\n\n    // Emit file_open event\n    if (socket && currentProject) {\n      socket.emit('file_open', {\n        projectId: currentProject._id,\n        fileId: file._id\n      });\n    }\n  }, [openFiles, currentProject, socket]);\n\n  // Close file\n  const closeFile = useCallback(fileId => {\n    setOpenFiles(prev => prev.filter(f => f._id !== fileId));\n    if (activeFileId === fileId) {\n      const remaining = openFiles.filter(f => f._id !== fileId);\n      setActiveFileId(remaining.length > 0 ? remaining[remaining.length - 1]._id : null);\n    }\n    if (socket && currentProject) {\n      socket.emit('file_close', {\n        projectId: currentProject._id,\n        fileId\n      });\n    }\n  }, [openFiles, activeFileId, socket, currentProject]);\n\n  // Save file\n  const saveFile = useCallback(async (fileId, content) => {\n    try {\n      await api.put(`/projects/${currentProject._id}/files/${fileId}`, {\n        content\n      });\n\n      // Update local state\n      setOpenFiles(prev => prev.map(f => f._id === fileId ? {\n        ...f,\n        content\n      } : f));\n      setFiles(prev => prev.map(f => f._id === fileId ? {\n        ...f,\n        content\n      } : f));\n\n      // Emit save event\n      if (socket) {\n        socket.emit('file_save', {\n          projectId: currentProject._id,\n          fileId,\n          content\n        });\n      }\n    } catch (error) {\n      console.error('Failed to save file:', error);\n      throw error;\n    }\n  }, [currentProject, socket]);\n\n  // Create file\n  const createFile = useCallback(async (name, type = 'file', parent = null) => {\n    if (!currentProject) {\n      console.error('No project loaded');\n      throw new Error('No project loaded. Please select a project first.');\n    }\n    try {\n      console.log('Creating file/folder:', {\n        name,\n        type,\n        parent,\n        projectId: currentProject._id\n      });\n      const response = await api.post(`/projects/${currentProject._id}/files`, {\n        name,\n        type,\n        parent\n      });\n      console.log('File created successfully:', response.data);\n      setFiles(prev => [...prev, response.data]);\n      return response.data;\n    } catch (error) {\n      var _error$response;\n      console.error('Failed to create file:', error);\n      console.error('Error details:', (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data);\n      throw error;\n    }\n  }, [currentProject]);\n\n  // Delete file\n  const deleteFile = useCallback(async fileId => {\n    try {\n      await api.delete(`/projects/${currentProject._id}/files/${fileId}`);\n      setFiles(prev => prev.filter(f => f._id !== fileId));\n\n      // Close if open\n      if (openFiles.find(f => f._id === fileId)) {\n        closeFile(fileId);\n      }\n    } catch (error) {\n      console.error('Failed to delete file:', error);\n      throw error;\n    }\n  }, [currentProject, openFiles, closeFile]);\n\n  // Execute code\n  const executeCode = useCallback(async (code, language, input = '') => {\n    try {\n      setIsExecuting(true);\n      setExecutionOutput(null);\n      const response = await api.post('/execute', {\n        code,\n        language,\n        input,\n        projectId: currentProject === null || currentProject === void 0 ? void 0 : currentProject._id,\n        fileId: activeFileId\n      });\n      setExecutionOutput(response.data);\n      setIsExecuting(false);\n      return response.data;\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      console.error('Execution failed:', error);\n      setExecutionOutput({\n        output: {\n          error: ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || error.message\n        },\n        status: 'error'\n      });\n      setIsExecuting(false);\n      throw error;\n    }\n  }, [currentProject, activeFileId]);\n\n  // Socket event listeners\n  useEffect(() => {\n    if (!socket) return;\n\n    // User joined/left\n    socket.on('user_joined', ({\n      userId,\n      username\n    }) => {\n      setActiveUsers(prev => [...prev, {\n        userId,\n        username\n      }]);\n      console.log(`${username} joined the project`);\n    });\n    socket.on('user_left', ({\n      userId\n    }) => {\n      setActiveUsers(prev => prev.filter(u => u.userId !== userId));\n      setCursors(prev => {\n        const updated = {\n          ...prev\n        };\n        delete updated[userId];\n        return updated;\n      });\n    });\n    socket.on('project_users', ({\n      activeUsers\n    }) => {\n      setActiveUsers(activeUsers);\n    });\n\n    // File events\n    socket.on('file_created', ({\n      file\n    }) => {\n      setFiles(prev => [...prev, file]);\n    });\n    socket.on('file_deleted', ({\n      fileId\n    }) => {\n      setFiles(prev => prev.filter(f => f._id !== fileId));\n      if (openFiles.find(f => f._id === fileId)) {\n        closeFile(fileId);\n      }\n    });\n    socket.on('file_renamed', ({\n      fileId,\n      newName,\n      language\n    }) => {\n      setFiles(prev => prev.map(f => f._id === fileId ? {\n        ...f,\n        name: newName,\n        language\n      } : f));\n      setOpenFiles(prev => prev.map(f => f._id === fileId ? {\n        ...f,\n        name: newName,\n        language\n      } : f));\n    });\n\n    // Execution complete\n    socket.on('execution_complete', data => {\n      setExecutionOutput(data);\n      setIsExecuting(false);\n    });\n    return () => {\n      socket.off('user_joined');\n      socket.off('user_left');\n      socket.off('project_users');\n      socket.off('file_created');\n      socket.off('file_deleted');\n      socket.off('file_renamed');\n      socket.off('execution_complete');\n    };\n  }, [socket, openFiles, closeFile]);\n  const value = {\n    socket,\n    currentProject,\n    files,\n    openFiles,\n    activeFileId,\n    activeUsers,\n    cursors,\n    executionOutput,\n    isExecuting,\n    loadProject,\n    leaveProject,\n    openFile,\n    closeFile,\n    saveFile,\n    createFile,\n    deleteFile,\n    executeCode,\n    setActiveFileId,\n    setCursors\n  };\n  return /*#__PURE__*/_jsxDEV(ProjectContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 321,\n    columnNumber: 5\n  }, this);\n};\n_s2(ProjectProvider, \"LVTL5I/T0LxLfv14Q0kiwkEhyW4=\");\n_c = ProjectProvider;\nexport default ProjectContext;\nvar _c;\n$RefreshReg$(_c, \"ProjectProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","useCallback","io","api","jsxDEV","_jsxDEV","ProjectContext","useProject","_s","context","Error","ProjectProvider","children","_s2","socket","setSocket","currentProject","setCurrentProject","files","setFiles","openFiles","setOpenFiles","activeFileId","setActiveFileId","activeUsers","setActiveUsers","cursors","setCursors","executionOutput","setExecutionOutput","isExecuting","setIsExecuting","token","localStorage","getItem","newSocket","process","env","REACT_APP_API_URL","auth","on","console","log","id","error","close","loadProject","projectId","response","get","data","emit","userId","owner","_id","leaveProject","openFile","file","existingFile","find","f","content","prev","fileId","closeFile","filter","remaining","length","saveFile","put","map","createFile","name","type","parent","post","_error$response","deleteFile","delete","executeCode","code","language","input","_error$response2","_error$response2$data","output","message","status","username","u","updated","newName","off","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/lukasygina/image-share-app-1/client/src/context/ProjectContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect, useCallback } from 'react';\nimport { io } from 'socket.io-client';\nimport api from '../utils/api';\n\nconst ProjectContext = createContext();\n\nexport const useProject = () => {\n  const context = useContext(ProjectContext);\n  if (!context) {\n    throw new Error('useProject must be used within a ProjectProvider');\n  }\n  return context;\n};\n\nexport const ProjectProvider = ({ children }) => {\n  const [socket, setSocket] = useState(null);\n  const [currentProject, setCurrentProject] = useState(null);\n  const [files, setFiles] = useState([]);\n  const [openFiles, setOpenFiles] = useState([]);\n  const [activeFileId, setActiveFileId] = useState(null);\n  const [activeUsers, setActiveUsers] = useState([]);\n  const [cursors, setCursors] = useState({});\n  const [executionOutput, setExecutionOutput] = useState(null);\n  const [isExecuting, setIsExecuting] = useState(false);\n\n  // Initialize Socket.IO connection\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (!token) return;\n\n    const newSocket = io(process.env.REACT_APP_API_URL || 'http://localhost:5001', {\n      auth: { token }\n    });\n\n    newSocket.on('connect', () => {\n      console.log('Socket connected:', newSocket.id);\n    });\n\n    newSocket.on('error', (error) => {\n      console.error('Socket error:', error);\n    });\n\n    newSocket.on('disconnect', () => {\n      console.log('Socket disconnected');\n    });\n\n    setSocket(newSocket);\n\n    return () => {\n      newSocket.close();\n    };\n  }, []);\n\n  // Load project\n  const loadProject = useCallback(async (projectId) => {\n    try {\n      const response = await api.get(`/projects/${projectId}`);\n      setCurrentProject(response.data);\n      setFiles(response.data.files || []);\n      \n      // Join project room\n      if (socket) {\n        socket.emit('join_project', {\n          projectId,\n          userId: response.data.owner._id || response.data.owner\n        });\n      }\n    } catch (error) {\n      console.error('Failed to load project:', error);\n      throw error;\n    }\n  }, [socket]);\n\n  // Leave project\n  const leaveProject = useCallback(() => {\n    if (socket && currentProject) {\n      socket.emit('leave_project', {\n        projectId: currentProject._id,\n        userId: currentProject.owner._id || currentProject.owner\n      });\n    }\n    setCurrentProject(null);\n    setFiles([]);\n    setOpenFiles([]);\n    setActiveFileId(null);\n    setActiveUsers([]);\n    setCursors({});\n  }, [socket, currentProject]);\n\n  // Open file in editor\n  const openFile = useCallback(async (file) => {\n    // Check if already open\n    const existingFile = openFiles.find(f => f._id === file._id);\n    if (existingFile) {\n      setActiveFileId(file._id);\n      return;\n    }\n\n    // Load file content if not loaded\n    if (!file.content) {\n      try {\n        const response = await api.get(`/projects/${currentProject._id}/files/${file._id}`);\n        file = response.data;\n      } catch (error) {\n        console.error('Failed to load file:', error);\n        return;\n      }\n    }\n\n    setOpenFiles(prev => [...prev, file]);\n    setActiveFileId(file._id);\n\n    // Emit file_open event\n    if (socket && currentProject) {\n      socket.emit('file_open', {\n        projectId: currentProject._id,\n        fileId: file._id\n      });\n    }\n  }, [openFiles, currentProject, socket]);\n\n  // Close file\n  const closeFile = useCallback((fileId) => {\n    setOpenFiles(prev => prev.filter(f => f._id !== fileId));\n    \n    if (activeFileId === fileId) {\n      const remaining = openFiles.filter(f => f._id !== fileId);\n      setActiveFileId(remaining.length > 0 ? remaining[remaining.length - 1]._id : null);\n    }\n\n    if (socket && currentProject) {\n      socket.emit('file_close', {\n        projectId: currentProject._id,\n        fileId\n      });\n    }\n  }, [openFiles, activeFileId, socket, currentProject]);\n\n  // Save file\n  const saveFile = useCallback(async (fileId, content) => {\n    try {\n      await api.put(`/projects/${currentProject._id}/files/${fileId}`, { content });\n      \n      // Update local state\n      setOpenFiles(prev => prev.map(f => \n        f._id === fileId ? { ...f, content } : f\n      ));\n      setFiles(prev => prev.map(f => \n        f._id === fileId ? { ...f, content } : f\n      ));\n\n      // Emit save event\n      if (socket) {\n        socket.emit('file_save', {\n          projectId: currentProject._id,\n          fileId,\n          content\n        });\n      }\n    } catch (error) {\n      console.error('Failed to save file:', error);\n      throw error;\n    }\n  }, [currentProject, socket]);\n\n  // Create file\n  const createFile = useCallback(async (name, type = 'file', parent = null) => {\n    if (!currentProject) {\n      console.error('No project loaded');\n      throw new Error('No project loaded. Please select a project first.');\n    }\n    \n    try {\n      console.log('Creating file/folder:', { name, type, parent, projectId: currentProject._id });\n      const response = await api.post(`/projects/${currentProject._id}/files`, {\n        name,\n        type,\n        parent\n      });\n      \n      console.log('File created successfully:', response.data);\n      setFiles(prev => [...prev, response.data]);\n      return response.data;\n    } catch (error) {\n      console.error('Failed to create file:', error);\n      console.error('Error details:', error.response?.data);\n      throw error;\n    }\n  }, [currentProject]);\n\n  // Delete file\n  const deleteFile = useCallback(async (fileId) => {\n    try {\n      await api.delete(`/projects/${currentProject._id}/files/${fileId}`);\n      setFiles(prev => prev.filter(f => f._id !== fileId));\n      \n      // Close if open\n      if (openFiles.find(f => f._id === fileId)) {\n        closeFile(fileId);\n      }\n    } catch (error) {\n      console.error('Failed to delete file:', error);\n      throw error;\n    }\n  }, [currentProject, openFiles, closeFile]);\n\n  // Execute code\n  const executeCode = useCallback(async (code, language, input = '') => {\n    try {\n      setIsExecuting(true);\n      setExecutionOutput(null);\n\n      const response = await api.post('/execute', {\n        code,\n        language,\n        input,\n        projectId: currentProject?._id,\n        fileId: activeFileId\n      });\n\n      setExecutionOutput(response.data);\n      setIsExecuting(false);\n      return response.data;\n    } catch (error) {\n      console.error('Execution failed:', error);\n      setExecutionOutput({\n        output: {\n          error: error.response?.data?.message || error.message\n        },\n        status: 'error'\n      });\n      setIsExecuting(false);\n      throw error;\n    }\n  }, [currentProject, activeFileId]);\n\n  // Socket event listeners\n  useEffect(() => {\n    if (!socket) return;\n\n    // User joined/left\n    socket.on('user_joined', ({ userId, username }) => {\n      setActiveUsers(prev => [...prev, { userId, username }]);\n      console.log(`${username} joined the project`);\n    });\n\n    socket.on('user_left', ({ userId }) => {\n      setActiveUsers(prev => prev.filter(u => u.userId !== userId));\n      setCursors(prev => {\n        const updated = { ...prev };\n        delete updated[userId];\n        return updated;\n      });\n    });\n\n    socket.on('project_users', ({ activeUsers }) => {\n      setActiveUsers(activeUsers);\n    });\n\n    // File events\n    socket.on('file_created', ({ file }) => {\n      setFiles(prev => [...prev, file]);\n    });\n\n    socket.on('file_deleted', ({ fileId }) => {\n      setFiles(prev => prev.filter(f => f._id !== fileId));\n      if (openFiles.find(f => f._id === fileId)) {\n        closeFile(fileId);\n      }\n    });\n\n    socket.on('file_renamed', ({ fileId, newName, language }) => {\n      setFiles(prev => prev.map(f => \n        f._id === fileId ? { ...f, name: newName, language } : f\n      ));\n      setOpenFiles(prev => prev.map(f => \n        f._id === fileId ? { ...f, name: newName, language } : f\n      ));\n    });\n\n    // Execution complete\n    socket.on('execution_complete', (data) => {\n      setExecutionOutput(data);\n      setIsExecuting(false);\n    });\n\n    return () => {\n      socket.off('user_joined');\n      socket.off('user_left');\n      socket.off('project_users');\n      socket.off('file_created');\n      socket.off('file_deleted');\n      socket.off('file_renamed');\n      socket.off('execution_complete');\n    };\n  }, [socket, openFiles, closeFile]);\n\n  const value = {\n    socket,\n    currentProject,\n    files,\n    openFiles,\n    activeFileId,\n    activeUsers,\n    cursors,\n    executionOutput,\n    isExecuting,\n    loadProject,\n    leaveProject,\n    openFile,\n    closeFile,\n    saveFile,\n    createFile,\n    deleteFile,\n    executeCode,\n    setActiveFileId,\n    setCursors\n  };\n\n  return (\n    <ProjectContext.Provider value={value}>\n      {children}\n    </ProjectContext.Provider>\n  );\n};\n\nexport default ProjectContext;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}