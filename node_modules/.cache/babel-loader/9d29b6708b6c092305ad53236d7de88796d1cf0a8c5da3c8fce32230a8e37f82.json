{"ast":null,"code":"var _jsxFileName = \"/Users/lukasygina/image-share-app-1/client/src/components/AudioMessage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Box, IconButton, Typography, LinearProgress, Paper, useTheme, useMediaQuery, Alert } from '@mui/material';\nimport { PlayArrow as PlayIcon, Pause as PauseIcon, Stop as StopIcon, Mic as MicIcon, Refresh as RefreshIcon } from '@mui/icons-material';\nimport { getFileUrl } from '../utils/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AudioMessage = ({\n  audioUrl,\n  duration,\n  isOwnMessage\n}) => {\n  _s();\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [hasError, setHasError] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [audioBlob, setAudioBlob] = useState(null);\n  const audioRef = useRef(null);\n  const formatTime = seconds => {\n    const mins = Math.floor(seconds / 60);\n    const secs = Math.floor(seconds % 60);\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  // Load audio file using fetch to avoid CORS issues\n  const loadAudio = async () => {\n    try {\n      setIsLoading(true);\n      setHasError(false);\n      const fullAudioUrl = getFileUrl(audioUrl);\n      console.log('Loading audio via fetch from:', fullAudioUrl);\n      const response = await fetch(fullAudioUrl, {\n        method: 'GET',\n        mode: 'cors',\n        headers: {\n          'Accept': 'audio/wav,audio/*,*/*'\n        }\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const blob = await response.blob();\n      const audioObjectUrl = URL.createObjectURL(blob);\n      setAudioBlob(audioObjectUrl);\n      setIsLoaded(true);\n      setIsLoading(false);\n      console.log('Audio loaded successfully via fetch');\n    } catch (error) {\n      console.error('Error loading audio via fetch:', error);\n      setIsLoading(false);\n      setHasError(true);\n      setIsLoaded(false);\n    }\n  };\n  useEffect(() => {\n    loadAudio();\n\n    // Cleanup function to revoke object URL\n    return () => {\n      if (audioBlob) {\n        URL.revokeObjectURL(audioBlob);\n      }\n    };\n  }, [audioUrl]);\n  const handlePlay = () => {\n    if (audioRef.current && audioBlob) {\n      audioRef.current.play().catch(error => {\n        console.error('Error playing audio:', error);\n        setHasError(true);\n      });\n      setIsPlaying(true);\n    }\n  };\n  const handlePause = () => {\n    if (audioRef.current) {\n      audioRef.current.pause();\n      setIsPlaying(false);\n    }\n  };\n  const handleStop = () => {\n    if (audioRef.current) {\n      audioRef.current.pause();\n      audioRef.current.currentTime = 0;\n      setIsPlaying(false);\n      setCurrentTime(0);\n    }\n  };\n  const handleTimeUpdate = () => {\n    if (audioRef.current) {\n      setCurrentTime(audioRef.current.currentTime);\n    }\n  };\n  const handleLoadedMetadata = () => {\n    setIsLoaded(true);\n    setIsLoading(false);\n    setHasError(false);\n    console.log('Audio metadata loaded successfully');\n  };\n  const handleCanPlay = () => {\n    setIsLoading(false);\n    setHasError(false);\n  };\n  const handleEnded = () => {\n    setIsPlaying(false);\n    setCurrentTime(0);\n  };\n  const handleError = error => {\n    console.error('Error with audio element:', error);\n    setIsLoading(false);\n    setHasError(true);\n    setIsLoaded(false);\n  };\n  const handleRetry = () => {\n    setHasError(false);\n    setIsLoading(true);\n    setIsLoaded(false);\n    loadAudio();\n  };\n  if (hasError) {\n    return /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 1,\n      sx: {\n        p: 1.5,\n        maxWidth: isMobile ? 250 : 300,\n        bgcolor: isOwnMessage ? 'primary.light' : 'background.paper',\n        color: isOwnMessage ? 'primary.contrastText' : 'text.primary',\n        borderRadius: 2,\n        border: 1,\n        borderColor: 'error.main',\n        position: 'relative'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: 1,\n          mb: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(MicIcon, {\n          sx: {\n            fontSize: 20,\n            color: 'error.main'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"caption\",\n          sx: {\n            fontWeight: 'bold',\n            color: 'error.main'\n          },\n          children: \"Error al cargar audio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          size: \"small\",\n          onClick: handleRetry,\n          sx: {\n            color: 'error.main',\n            '&:hover': {\n              bgcolor: 'error.light'\n            }\n          },\n          children: /*#__PURE__*/_jsxDEV(RefreshIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"caption\",\n          color: \"text.secondary\",\n          children: \"No se pudo cargar el audio. Toca el bot\\xF3n para reintentar.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    elevation: 1,\n    sx: {\n      p: 1.5,\n      maxWidth: isMobile ? 250 : 300,\n      bgcolor: isOwnMessage ? 'primary.light' : 'background.paper',\n      color: isOwnMessage ? 'primary.contrastText' : 'text.primary',\n      borderRadius: 2,\n      border: 1,\n      borderColor: isOwnMessage ? 'primary.main' : 'divider',\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        alignItems: 'center',\n        gap: 1,\n        mb: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(MicIcon, {\n        sx: {\n          fontSize: 20,\n          color: isOwnMessage ? 'primary.contrastText' : 'primary.main'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"caption\",\n        sx: {\n          fontWeight: 'bold'\n        },\n        children: \"Mensaje de voz\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), isLoading && /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"caption\",\n        color: \"text.secondary\",\n        children: \"(Cargando...)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        alignItems: 'center',\n        gap: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(IconButton, {\n        size: \"small\",\n        onClick: isPlaying ? handlePause : handlePlay,\n        disabled: !isLoaded || isLoading,\n        sx: {\n          color: isOwnMessage ? 'primary.contrastText' : 'primary.main',\n          bgcolor: isOwnMessage ? 'rgba(255,255,255,0.2)' : 'rgba(25,118,210,0.1)',\n          '&:hover': {\n            bgcolor: isOwnMessage ? 'rgba(255,255,255,0.3)' : 'rgba(25,118,210,0.2)'\n          }\n        },\n        children: isPlaying ? /*#__PURE__*/_jsxDEV(PauseIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 24\n        }, this) : /*#__PURE__*/_jsxDEV(PlayIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 40\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        size: \"small\",\n        onClick: handleStop,\n        disabled: !isLoaded || currentTime === 0 || isLoading,\n        sx: {\n          color: isOwnMessage ? 'primary.contrastText' : 'text.secondary',\n          '&:hover': {\n            bgcolor: isOwnMessage ? 'rgba(255,255,255,0.2)' : 'rgba(0,0,0,0.1)'\n          }\n        },\n        children: /*#__PURE__*/_jsxDEV(StopIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          flexGrow: 1,\n          mx: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"caption\",\n          sx: {\n            display: 'block',\n            mb: 0.5\n          },\n          children: [formatTime(currentTime), \" / \", formatTime(duration)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(LinearProgress, {\n          variant: isLoading ? \"indeterminate\" : \"determinate\",\n          value: duration > 0 ? currentTime / duration * 100 : 0,\n          sx: {\n            height: 4,\n            borderRadius: 2,\n            bgcolor: isOwnMessage ? 'rgba(255,255,255,0.3)' : 'rgba(0,0,0,0.1)',\n            '& .MuiLinearProgress-bar': {\n              bgcolor: isOwnMessage ? 'primary.contrastText' : 'primary.main'\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n      ref: audioRef,\n      src: audioBlob,\n      onTimeUpdate: handleTimeUpdate,\n      onLoadedMetadata: handleLoadedMetadata,\n      onCanPlay: handleCanPlay,\n      onEnded: handleEnded,\n      onError: handleError,\n      preload: \"metadata\",\n      style: {\n        display: 'none'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 197,\n    columnNumber: 5\n  }, this);\n};\n_s(AudioMessage, \"aUJnfN2Ecx8u8T4Z5QVq9igI2uo=\", false, function () {\n  return [useTheme, useMediaQuery];\n});\n_c = AudioMessage;\nexport default AudioMessage;\nvar _c;\n$RefreshReg$(_c, \"AudioMessage\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Box","IconButton","Typography","LinearProgress","Paper","useTheme","useMediaQuery","Alert","PlayArrow","PlayIcon","Pause","PauseIcon","Stop","StopIcon","Mic","MicIcon","Refresh","RefreshIcon","getFileUrl","jsxDEV","_jsxDEV","AudioMessage","audioUrl","duration","isOwnMessage","_s","theme","isMobile","breakpoints","down","isPlaying","setIsPlaying","currentTime","setCurrentTime","isLoaded","setIsLoaded","hasError","setHasError","isLoading","setIsLoading","audioBlob","setAudioBlob","audioRef","formatTime","seconds","mins","Math","floor","secs","toString","padStart","loadAudio","fullAudioUrl","console","log","response","fetch","method","mode","headers","ok","Error","status","blob","audioObjectUrl","URL","createObjectURL","error","revokeObjectURL","handlePlay","current","play","catch","handlePause","pause","handleStop","handleTimeUpdate","handleLoadedMetadata","handleCanPlay","handleEnded","handleError","handleRetry","elevation","sx","p","maxWidth","bgcolor","color","borderRadius","border","borderColor","position","children","display","alignItems","gap","mb","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","variant","fontWeight","size","onClick","disabled","flexGrow","mx","value","height","ref","src","onTimeUpdate","onLoadedMetadata","onCanPlay","onEnded","onError","preload","style","_c","$RefreshReg$"],"sources":["/Users/lukasygina/image-share-app-1/client/src/components/AudioMessage.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport {\n  Box,\n  IconButton,\n  Typography,\n  LinearProgress,\n  Paper,\n  useTheme,\n  useMediaQuery,\n  Alert\n} from '@mui/material';\nimport {\n  PlayArrow as PlayIcon,\n  Pause as PauseIcon,\n  Stop as StopIcon,\n  Mic as MicIcon,\n  Refresh as RefreshIcon\n} from '@mui/icons-material';\nimport { getFileUrl } from '../utils/api';\n\nconst AudioMessage = ({ audioUrl, duration, isOwnMessage }) => {\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\n  \n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [hasError, setHasError] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [audioBlob, setAudioBlob] = useState(null);\n  \n  const audioRef = useRef(null);\n\n  const formatTime = (seconds) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = Math.floor(seconds % 60);\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  // Load audio file using fetch to avoid CORS issues\n  const loadAudio = async () => {\n    try {\n      setIsLoading(true);\n      setHasError(false);\n      \n      const fullAudioUrl = getFileUrl(audioUrl);\n      console.log('Loading audio via fetch from:', fullAudioUrl);\n      \n      const response = await fetch(fullAudioUrl, {\n        method: 'GET',\n        mode: 'cors',\n        headers: {\n          'Accept': 'audio/wav,audio/*,*/*'\n        }\n      });\n      \n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      \n      const blob = await response.blob();\n      const audioObjectUrl = URL.createObjectURL(blob);\n      \n      setAudioBlob(audioObjectUrl);\n      setIsLoaded(true);\n      setIsLoading(false);\n      \n      console.log('Audio loaded successfully via fetch');\n      \n    } catch (error) {\n      console.error('Error loading audio via fetch:', error);\n      setIsLoading(false);\n      setHasError(true);\n      setIsLoaded(false);\n    }\n  };\n\n  useEffect(() => {\n    loadAudio();\n    \n    // Cleanup function to revoke object URL\n    return () => {\n      if (audioBlob) {\n        URL.revokeObjectURL(audioBlob);\n      }\n    };\n  }, [audioUrl]);\n\n  const handlePlay = () => {\n    if (audioRef.current && audioBlob) {\n      audioRef.current.play().catch(error => {\n        console.error('Error playing audio:', error);\n        setHasError(true);\n      });\n      setIsPlaying(true);\n    }\n  };\n\n  const handlePause = () => {\n    if (audioRef.current) {\n      audioRef.current.pause();\n      setIsPlaying(false);\n    }\n  };\n\n  const handleStop = () => {\n    if (audioRef.current) {\n      audioRef.current.pause();\n      audioRef.current.currentTime = 0;\n      setIsPlaying(false);\n      setCurrentTime(0);\n    }\n  };\n\n  const handleTimeUpdate = () => {\n    if (audioRef.current) {\n      setCurrentTime(audioRef.current.currentTime);\n    }\n  };\n\n  const handleLoadedMetadata = () => {\n    setIsLoaded(true);\n    setIsLoading(false);\n    setHasError(false);\n    console.log('Audio metadata loaded successfully');\n  };\n\n  const handleCanPlay = () => {\n    setIsLoading(false);\n    setHasError(false);\n  };\n\n  const handleEnded = () => {\n    setIsPlaying(false);\n    setCurrentTime(0);\n  };\n\n  const handleError = (error) => {\n    console.error('Error with audio element:', error);\n    setIsLoading(false);\n    setHasError(true);\n    setIsLoaded(false);\n  };\n\n  const handleRetry = () => {\n    setHasError(false);\n    setIsLoading(true);\n    setIsLoaded(false);\n    loadAudio();\n  };\n\n  if (hasError) {\n    return (\n      <Paper\n        elevation={1}\n        sx={{\n          p: 1.5,\n          maxWidth: isMobile ? 250 : 300,\n          bgcolor: isOwnMessage ? 'primary.light' : 'background.paper',\n          color: isOwnMessage ? 'primary.contrastText' : 'text.primary',\n          borderRadius: 2,\n          border: 1,\n          borderColor: 'error.main',\n          position: 'relative'\n        }}\n      >\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, mb: 1 }}>\n          <MicIcon sx={{ fontSize: 20, color: 'error.main' }} />\n          <Typography variant=\"caption\" sx={{ fontWeight: 'bold', color: 'error.main' }}>\n            Error al cargar audio\n          </Typography>\n        </Box>\n        \n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n          <IconButton\n            size=\"small\"\n            onClick={handleRetry}\n            sx={{\n              color: 'error.main',\n              '&:hover': {\n                bgcolor: 'error.light',\n              }\n            }}\n          >\n            <RefreshIcon />\n          </IconButton>\n          \n          <Typography variant=\"caption\" color=\"text.secondary\">\n            No se pudo cargar el audio. Toca el bot√≥n para reintentar.\n          </Typography>\n        </Box>\n      </Paper>\n    );\n  }\n\n  return (\n    <Paper\n      elevation={1}\n      sx={{\n        p: 1.5,\n        maxWidth: isMobile ? 250 : 300,\n        bgcolor: isOwnMessage ? 'primary.light' : 'background.paper',\n        color: isOwnMessage ? 'primary.contrastText' : 'text.primary',\n        borderRadius: 2,\n        border: 1,\n        borderColor: isOwnMessage ? 'primary.main' : 'divider',\n        position: 'relative'\n      }}\n    >\n      <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, mb: 1 }}>\n        <MicIcon sx={{ fontSize: 20, color: isOwnMessage ? 'primary.contrastText' : 'primary.main' }} />\n        <Typography variant=\"caption\" sx={{ fontWeight: 'bold' }}>\n          Mensaje de voz\n        </Typography>\n        {isLoading && (\n          <Typography variant=\"caption\" color=\"text.secondary\">\n            (Cargando...)\n          </Typography>\n        )}\n      </Box>\n      \n      <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n        <IconButton\n          size=\"small\"\n          onClick={isPlaying ? handlePause : handlePlay}\n          disabled={!isLoaded || isLoading}\n          sx={{\n            color: isOwnMessage ? 'primary.contrastText' : 'primary.main',\n            bgcolor: isOwnMessage ? 'rgba(255,255,255,0.2)' : 'rgba(25,118,210,0.1)',\n            '&:hover': {\n              bgcolor: isOwnMessage ? 'rgba(255,255,255,0.3)' : 'rgba(25,118,210,0.2)',\n            }\n          }}\n        >\n          {isPlaying ? <PauseIcon /> : <PlayIcon />}\n        </IconButton>\n        \n        <IconButton\n          size=\"small\"\n          onClick={handleStop}\n          disabled={!isLoaded || currentTime === 0 || isLoading}\n          sx={{\n            color: isOwnMessage ? 'primary.contrastText' : 'text.secondary',\n            '&:hover': {\n              bgcolor: isOwnMessage ? 'rgba(255,255,255,0.2)' : 'rgba(0,0,0,0.1)',\n            }\n          }}\n        >\n          <StopIcon />\n        </IconButton>\n        \n        <Box sx={{ flexGrow: 1, mx: 1 }}>\n          <Typography variant=\"caption\" sx={{ display: 'block', mb: 0.5 }}>\n            {formatTime(currentTime)} / {formatTime(duration)}\n          </Typography>\n          <LinearProgress\n            variant={isLoading ? \"indeterminate\" : \"determinate\"}\n            value={duration > 0 ? (currentTime / duration) * 100 : 0}\n            sx={{\n              height: 4,\n              borderRadius: 2,\n              bgcolor: isOwnMessage ? 'rgba(255,255,255,0.3)' : 'rgba(0,0,0,0.1)',\n              '& .MuiLinearProgress-bar': {\n                bgcolor: isOwnMessage ? 'primary.contrastText' : 'primary.main',\n              }\n            }}\n          />\n        </Box>\n      </Box>\n      \n      <audio\n        ref={audioRef}\n        src={audioBlob}\n        onTimeUpdate={handleTimeUpdate}\n        onLoadedMetadata={handleLoadedMetadata}\n        onCanPlay={handleCanPlay}\n        onEnded={handleEnded}\n        onError={handleError}\n        preload=\"metadata\"\n        style={{ display: 'none' }}\n      />\n    </Paper>\n  );\n};\n\nexport default AudioMessage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}