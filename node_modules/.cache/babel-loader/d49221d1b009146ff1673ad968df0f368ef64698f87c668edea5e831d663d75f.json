{"ast":null,"code":"var _jsxFileName = \"/Users/lukasygina/image-share-app-1/client/src/components/PWAInstallPrompt.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Snackbar, Alert, Button, Box } from '@mui/material';\nimport GetAppIcon from '@mui/icons-material/GetApp';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PWAInstallPrompt = () => {\n  _s();\n  const [showInstallPrompt, setShowInstallPrompt] = useState(false);\n  const [deferredPrompt, setDeferredPrompt] = useState(null);\n  useEffect(() => {\n    const handler = e => {\n      // Prevent Chrome 67 and earlier from automatically showing the prompt\n      e.preventDefault();\n      // Stash the event so it can be triggered later\n      setDeferredPrompt(e);\n      // Show the install prompt\n      setShowInstallPrompt(true);\n    };\n    window.addEventListener('beforeinstallprompt', handler);\n    return () => {\n      window.removeEventListener('beforeinstallprompt', handler);\n    };\n  }, []);\n  const handleInstall = async () => {\n    if (!deferredPrompt) return;\n\n    // Show the install prompt\n    deferredPrompt.prompt();\n\n    // Wait for the user to respond to the prompt\n    const {\n      outcome\n    } = await deferredPrompt.userChoice;\n    if (outcome === 'accepted') {\n      console.log('User accepted the install prompt');\n    } else {\n      console.log('User dismissed the install prompt');\n    }\n\n    // Clear the deferredPrompt\n    setDeferredPrompt(null);\n    setShowInstallPrompt(false);\n  };\n  const handleClose = () => {\n    setShowInstallPrompt(false);\n  };\n  return /*#__PURE__*/_jsxDEV(Snackbar, {\n    open: showInstallPrompt,\n    autoHideDuration: 10000,\n    onClose: handleClose,\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'center'\n    },\n    children: /*#__PURE__*/_jsxDEV(Alert, {\n      onClose: handleClose,\n      severity: \"info\",\n      sx: {\n        width: '100%'\n      },\n      action: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          gap: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          color: \"inherit\",\n          size: \"small\",\n          onClick: handleInstall,\n          startIcon: /*#__PURE__*/_jsxDEV(GetAppIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 26\n          }, this),\n          children: \"Install\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          color: \"inherit\",\n          size: \"small\",\n          onClick: handleClose,\n          children: \"Later\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this),\n      children: \"Install Global Chat as an app for a better experience!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(PWAInstallPrompt, \"GhJJVGhqLAYIKNrQCjpOmVpdg9k=\");\n_c = PWAInstallPrompt;\nexport default PWAInstallPrompt;\nvar _c;\n$RefreshReg$(_c, \"PWAInstallPrompt\");","map":{"version":3,"names":["React","useState","useEffect","Snackbar","Alert","Button","Box","GetAppIcon","jsxDEV","_jsxDEV","PWAInstallPrompt","_s","showInstallPrompt","setShowInstallPrompt","deferredPrompt","setDeferredPrompt","handler","e","preventDefault","window","addEventListener","removeEventListener","handleInstall","prompt","outcome","userChoice","console","log","handleClose","open","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","children","severity","sx","width","action","display","gap","color","size","onClick","startIcon","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/lukasygina/image-share-app-1/client/src/components/PWAInstallPrompt.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Snackbar, \n  Alert, \n  Button, \n  Box \n} from '@mui/material';\nimport GetAppIcon from '@mui/icons-material/GetApp';\n\nconst PWAInstallPrompt = () => {\n  const [showInstallPrompt, setShowInstallPrompt] = useState(false);\n  const [deferredPrompt, setDeferredPrompt] = useState(null);\n\n  useEffect(() => {\n    const handler = (e) => {\n      // Prevent Chrome 67 and earlier from automatically showing the prompt\n      e.preventDefault();\n      // Stash the event so it can be triggered later\n      setDeferredPrompt(e);\n      // Show the install prompt\n      setShowInstallPrompt(true);\n    };\n\n    window.addEventListener('beforeinstallprompt', handler);\n\n    return () => {\n      window.removeEventListener('beforeinstallprompt', handler);\n    };\n  }, []);\n\n  const handleInstall = async () => {\n    if (!deferredPrompt) return;\n\n    // Show the install prompt\n    deferredPrompt.prompt();\n\n    // Wait for the user to respond to the prompt\n    const { outcome } = await deferredPrompt.userChoice;\n\n    if (outcome === 'accepted') {\n      console.log('User accepted the install prompt');\n    } else {\n      console.log('User dismissed the install prompt');\n    }\n\n    // Clear the deferredPrompt\n    setDeferredPrompt(null);\n    setShowInstallPrompt(false);\n  };\n\n  const handleClose = () => {\n    setShowInstallPrompt(false);\n  };\n\n  return (\n    <Snackbar\n      open={showInstallPrompt}\n      autoHideDuration={10000}\n      onClose={handleClose}\n      anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n    >\n      <Alert \n        onClose={handleClose} \n        severity=\"info\" \n        sx={{ width: '100%' }}\n        action={\n          <Box sx={{ display: 'flex', gap: 1 }}>\n            <Button \n              color=\"inherit\" \n              size=\"small\" \n              onClick={handleInstall}\n              startIcon={<GetAppIcon />}\n            >\n              Install\n            </Button>\n            <Button \n              color=\"inherit\" \n              size=\"small\" \n              onClick={handleClose}\n            >\n              Later\n            </Button>\n          </Box>\n        }\n      >\n        Install Global Chat as an app for a better experience!\n      </Alert>\n    </Snackbar>\n  );\n};\n\nexport default PWAInstallPrompt; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}