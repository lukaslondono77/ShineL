{"ast":null,"code":"import _objectSpread from\"/Users/lukasygina/image-share-app-1/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{createContext,useContext,useState,useEffect,useCallback}from'react';import{io}from'socket.io-client';import api from'../utils/api';import{jsx as _jsx}from\"react/jsx-runtime\";const ProjectContext=/*#__PURE__*/createContext();export const useProject=()=>{const context=useContext(ProjectContext);if(!context){throw new Error('useProject must be used within a ProjectProvider');}return context;};export const ProjectProvider=_ref=>{let{children}=_ref;const[socket,setSocket]=useState(null);const[currentProject,setCurrentProject]=useState(null);const[files,setFiles]=useState([]);const[openFiles,setOpenFiles]=useState([]);const[activeFileId,setActiveFileId]=useState(null);const[activeUsers,setActiveUsers]=useState([]);const[cursors,setCursors]=useState({});const[executionOutput,setExecutionOutput]=useState(null);const[isExecuting,setIsExecuting]=useState(false);// Initialize Socket.IO connection\nuseEffect(()=>{const token=localStorage.getItem('token');if(!token)return;const newSocket=io(process.env.REACT_APP_API_URL||'http://localhost:5001',{auth:{token}});newSocket.on('connect',()=>{console.log('Socket connected:',newSocket.id);});newSocket.on('error',error=>{console.error('Socket error:',error);});newSocket.on('disconnect',()=>{console.log('Socket disconnected');});setSocket(newSocket);return()=>{newSocket.close();};},[]);// Load project\nconst loadProject=useCallback(async projectId=>{try{const response=await api.get(\"/projects/\".concat(projectId));setCurrentProject(response.data);setFiles(response.data.files||[]);// Join project room\nif(socket){socket.emit('join_project',{projectId,userId:response.data.owner._id||response.data.owner});}}catch(error){console.error('Failed to load project:',error);throw error;}},[socket]);// Leave project\nconst leaveProject=useCallback(()=>{if(socket&&currentProject){socket.emit('leave_project',{projectId:currentProject._id,userId:currentProject.owner._id||currentProject.owner});}setCurrentProject(null);setFiles([]);setOpenFiles([]);setActiveFileId(null);setActiveUsers([]);setCursors({});},[socket,currentProject]);// Open file in editor\nconst openFile=useCallback(async file=>{// Check if already open\nconst existingFile=openFiles.find(f=>f._id===file._id);if(existingFile){setActiveFileId(file._id);return;}// Load file content if not loaded\nif(!file.content){try{const response=await api.get(\"/projects/\".concat(currentProject._id,\"/files/\").concat(file._id));file=response.data;}catch(error){console.error('Failed to load file:',error);return;}}setOpenFiles(prev=>[...prev,file]);setActiveFileId(file._id);// Emit file_open event\nif(socket&&currentProject){socket.emit('file_open',{projectId:currentProject._id,fileId:file._id});}},[openFiles,currentProject,socket]);// Close file\nconst closeFile=useCallback(fileId=>{setOpenFiles(prev=>prev.filter(f=>f._id!==fileId));if(activeFileId===fileId){const remaining=openFiles.filter(f=>f._id!==fileId);setActiveFileId(remaining.length>0?remaining[remaining.length-1]._id:null);}if(socket&&currentProject){socket.emit('file_close',{projectId:currentProject._id,fileId});}},[openFiles,activeFileId,socket,currentProject]);// Save file\nconst saveFile=useCallback(async(fileId,content)=>{try{await api.put(\"/projects/\".concat(currentProject._id,\"/files/\").concat(fileId),{content});// Update local state\nsetOpenFiles(prev=>prev.map(f=>f._id===fileId?_objectSpread(_objectSpread({},f),{},{content}):f));setFiles(prev=>prev.map(f=>f._id===fileId?_objectSpread(_objectSpread({},f),{},{content}):f));// Emit save event\nif(socket){socket.emit('file_save',{projectId:currentProject._id,fileId,content});}}catch(error){console.error('Failed to save file:',error);throw error;}},[currentProject,socket]);// Create file\nconst createFile=useCallback(async function(name){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'file';let parent=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(!currentProject){console.error('No project loaded');throw new Error('No project loaded. Please select a project first.');}try{console.log('Creating file/folder:',{name,type,parent,projectId:currentProject._id});const response=await api.post(\"/projects/\".concat(currentProject._id,\"/files\"),{name,type,parent});console.log('File created successfully:',response.data);setFiles(prev=>[...prev,response.data]);return response.data;}catch(error){var _error$response;console.error('Failed to create file:',error);console.error('Error details:',(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data);throw error;}},[currentProject]);// Delete file\nconst deleteFile=useCallback(async fileId=>{try{await api.delete(\"/projects/\".concat(currentProject._id,\"/files/\").concat(fileId));setFiles(prev=>prev.filter(f=>f._id!==fileId));// Close if open\nif(openFiles.find(f=>f._id===fileId)){closeFile(fileId);}}catch(error){console.error('Failed to delete file:',error);throw error;}},[currentProject,openFiles,closeFile]);// Execute code\nconst executeCode=useCallback(async function(code,language){let input=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';try{setIsExecuting(true);setExecutionOutput(null);const response=await api.post('/execute',{code,language,input,projectId:currentProject===null||currentProject===void 0?void 0:currentProject._id,fileId:activeFileId});setExecutionOutput(response.data);setIsExecuting(false);return response.data;}catch(error){var _error$response2,_error$response2$data;console.error('Execution failed:',error);setExecutionOutput({output:{error:((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||error.message},status:'error'});setIsExecuting(false);throw error;}},[currentProject,activeFileId]);// Socket event listeners\nuseEffect(()=>{if(!socket)return;// User joined/left\nsocket.on('user_joined',_ref2=>{let{userId,username}=_ref2;setActiveUsers(prev=>[...prev,{userId,username}]);console.log(\"\".concat(username,\" joined the project\"));});socket.on('user_left',_ref3=>{let{userId}=_ref3;setActiveUsers(prev=>prev.filter(u=>u.userId!==userId));setCursors(prev=>{const updated=_objectSpread({},prev);delete updated[userId];return updated;});});socket.on('project_users',_ref4=>{let{activeUsers}=_ref4;setActiveUsers(activeUsers);});// File events\nsocket.on('file_created',_ref5=>{let{file}=_ref5;setFiles(prev=>[...prev,file]);});socket.on('file_deleted',_ref6=>{let{fileId}=_ref6;setFiles(prev=>prev.filter(f=>f._id!==fileId));if(openFiles.find(f=>f._id===fileId)){closeFile(fileId);}});socket.on('file_renamed',_ref7=>{let{fileId,newName,language}=_ref7;setFiles(prev=>prev.map(f=>f._id===fileId?_objectSpread(_objectSpread({},f),{},{name:newName,language}):f));setOpenFiles(prev=>prev.map(f=>f._id===fileId?_objectSpread(_objectSpread({},f),{},{name:newName,language}):f));});// Execution complete\nsocket.on('execution_complete',data=>{setExecutionOutput(data);setIsExecuting(false);});return()=>{socket.off('user_joined');socket.off('user_left');socket.off('project_users');socket.off('file_created');socket.off('file_deleted');socket.off('file_renamed');socket.off('execution_complete');};},[socket,openFiles,closeFile]);const value={socket,currentProject,files,openFiles,activeFileId,activeUsers,cursors,executionOutput,isExecuting,loadProject,leaveProject,openFile,closeFile,saveFile,createFile,deleteFile,executeCode,setActiveFileId,setCursors};return/*#__PURE__*/_jsx(ProjectContext.Provider,{value:value,children:children});};export default ProjectContext;","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","useCallback","io","api","jsx","_jsx","ProjectContext","useProject","context","Error","ProjectProvider","_ref","children","socket","setSocket","currentProject","setCurrentProject","files","setFiles","openFiles","setOpenFiles","activeFileId","setActiveFileId","activeUsers","setActiveUsers","cursors","setCursors","executionOutput","setExecutionOutput","isExecuting","setIsExecuting","token","localStorage","getItem","newSocket","process","env","REACT_APP_API_URL","auth","on","console","log","id","error","close","loadProject","projectId","response","get","concat","data","emit","userId","owner","_id","leaveProject","openFile","file","existingFile","find","f","content","prev","fileId","closeFile","filter","remaining","length","saveFile","put","map","_objectSpread","createFile","name","type","arguments","undefined","parent","post","_error$response","deleteFile","delete","executeCode","code","language","input","_error$response2","_error$response2$data","output","message","status","_ref2","username","_ref3","u","updated","_ref4","_ref5","_ref6","_ref7","newName","off","value","Provider"],"sources":["/Users/lukasygina/image-share-app-1/client/src/context/ProjectContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect, useCallback } from 'react';\nimport { io } from 'socket.io-client';\nimport api from '../utils/api';\n\nconst ProjectContext = createContext();\n\nexport const useProject = () => {\n  const context = useContext(ProjectContext);\n  if (!context) {\n    throw new Error('useProject must be used within a ProjectProvider');\n  }\n  return context;\n};\n\nexport const ProjectProvider = ({ children }) => {\n  const [socket, setSocket] = useState(null);\n  const [currentProject, setCurrentProject] = useState(null);\n  const [files, setFiles] = useState([]);\n  const [openFiles, setOpenFiles] = useState([]);\n  const [activeFileId, setActiveFileId] = useState(null);\n  const [activeUsers, setActiveUsers] = useState([]);\n  const [cursors, setCursors] = useState({});\n  const [executionOutput, setExecutionOutput] = useState(null);\n  const [isExecuting, setIsExecuting] = useState(false);\n\n  // Initialize Socket.IO connection\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (!token) return;\n\n    const newSocket = io(process.env.REACT_APP_API_URL || 'http://localhost:5001', {\n      auth: { token }\n    });\n\n    newSocket.on('connect', () => {\n      console.log('Socket connected:', newSocket.id);\n    });\n\n    newSocket.on('error', (error) => {\n      console.error('Socket error:', error);\n    });\n\n    newSocket.on('disconnect', () => {\n      console.log('Socket disconnected');\n    });\n\n    setSocket(newSocket);\n\n    return () => {\n      newSocket.close();\n    };\n  }, []);\n\n  // Load project\n  const loadProject = useCallback(async (projectId) => {\n    try {\n      const response = await api.get(`/projects/${projectId}`);\n      setCurrentProject(response.data);\n      setFiles(response.data.files || []);\n      \n      // Join project room\n      if (socket) {\n        socket.emit('join_project', {\n          projectId,\n          userId: response.data.owner._id || response.data.owner\n        });\n      }\n    } catch (error) {\n      console.error('Failed to load project:', error);\n      throw error;\n    }\n  }, [socket]);\n\n  // Leave project\n  const leaveProject = useCallback(() => {\n    if (socket && currentProject) {\n      socket.emit('leave_project', {\n        projectId: currentProject._id,\n        userId: currentProject.owner._id || currentProject.owner\n      });\n    }\n    setCurrentProject(null);\n    setFiles([]);\n    setOpenFiles([]);\n    setActiveFileId(null);\n    setActiveUsers([]);\n    setCursors({});\n  }, [socket, currentProject]);\n\n  // Open file in editor\n  const openFile = useCallback(async (file) => {\n    // Check if already open\n    const existingFile = openFiles.find(f => f._id === file._id);\n    if (existingFile) {\n      setActiveFileId(file._id);\n      return;\n    }\n\n    // Load file content if not loaded\n    if (!file.content) {\n      try {\n        const response = await api.get(`/projects/${currentProject._id}/files/${file._id}`);\n        file = response.data;\n      } catch (error) {\n        console.error('Failed to load file:', error);\n        return;\n      }\n    }\n\n    setOpenFiles(prev => [...prev, file]);\n    setActiveFileId(file._id);\n\n    // Emit file_open event\n    if (socket && currentProject) {\n      socket.emit('file_open', {\n        projectId: currentProject._id,\n        fileId: file._id\n      });\n    }\n  }, [openFiles, currentProject, socket]);\n\n  // Close file\n  const closeFile = useCallback((fileId) => {\n    setOpenFiles(prev => prev.filter(f => f._id !== fileId));\n    \n    if (activeFileId === fileId) {\n      const remaining = openFiles.filter(f => f._id !== fileId);\n      setActiveFileId(remaining.length > 0 ? remaining[remaining.length - 1]._id : null);\n    }\n\n    if (socket && currentProject) {\n      socket.emit('file_close', {\n        projectId: currentProject._id,\n        fileId\n      });\n    }\n  }, [openFiles, activeFileId, socket, currentProject]);\n\n  // Save file\n  const saveFile = useCallback(async (fileId, content) => {\n    try {\n      await api.put(`/projects/${currentProject._id}/files/${fileId}`, { content });\n      \n      // Update local state\n      setOpenFiles(prev => prev.map(f => \n        f._id === fileId ? { ...f, content } : f\n      ));\n      setFiles(prev => prev.map(f => \n        f._id === fileId ? { ...f, content } : f\n      ));\n\n      // Emit save event\n      if (socket) {\n        socket.emit('file_save', {\n          projectId: currentProject._id,\n          fileId,\n          content\n        });\n      }\n    } catch (error) {\n      console.error('Failed to save file:', error);\n      throw error;\n    }\n  }, [currentProject, socket]);\n\n  // Create file\n  const createFile = useCallback(async (name, type = 'file', parent = null) => {\n    if (!currentProject) {\n      console.error('No project loaded');\n      throw new Error('No project loaded. Please select a project first.');\n    }\n    \n    try {\n      console.log('Creating file/folder:', { name, type, parent, projectId: currentProject._id });\n      const response = await api.post(`/projects/${currentProject._id}/files`, {\n        name,\n        type,\n        parent\n      });\n      \n      console.log('File created successfully:', response.data);\n      setFiles(prev => [...prev, response.data]);\n      return response.data;\n    } catch (error) {\n      console.error('Failed to create file:', error);\n      console.error('Error details:', error.response?.data);\n      throw error;\n    }\n  }, [currentProject]);\n\n  // Delete file\n  const deleteFile = useCallback(async (fileId) => {\n    try {\n      await api.delete(`/projects/${currentProject._id}/files/${fileId}`);\n      setFiles(prev => prev.filter(f => f._id !== fileId));\n      \n      // Close if open\n      if (openFiles.find(f => f._id === fileId)) {\n        closeFile(fileId);\n      }\n    } catch (error) {\n      console.error('Failed to delete file:', error);\n      throw error;\n    }\n  }, [currentProject, openFiles, closeFile]);\n\n  // Execute code\n  const executeCode = useCallback(async (code, language, input = '') => {\n    try {\n      setIsExecuting(true);\n      setExecutionOutput(null);\n\n      const response = await api.post('/execute', {\n        code,\n        language,\n        input,\n        projectId: currentProject?._id,\n        fileId: activeFileId\n      });\n\n      setExecutionOutput(response.data);\n      setIsExecuting(false);\n      return response.data;\n    } catch (error) {\n      console.error('Execution failed:', error);\n      setExecutionOutput({\n        output: {\n          error: error.response?.data?.message || error.message\n        },\n        status: 'error'\n      });\n      setIsExecuting(false);\n      throw error;\n    }\n  }, [currentProject, activeFileId]);\n\n  // Socket event listeners\n  useEffect(() => {\n    if (!socket) return;\n\n    // User joined/left\n    socket.on('user_joined', ({ userId, username }) => {\n      setActiveUsers(prev => [...prev, { userId, username }]);\n      console.log(`${username} joined the project`);\n    });\n\n    socket.on('user_left', ({ userId }) => {\n      setActiveUsers(prev => prev.filter(u => u.userId !== userId));\n      setCursors(prev => {\n        const updated = { ...prev };\n        delete updated[userId];\n        return updated;\n      });\n    });\n\n    socket.on('project_users', ({ activeUsers }) => {\n      setActiveUsers(activeUsers);\n    });\n\n    // File events\n    socket.on('file_created', ({ file }) => {\n      setFiles(prev => [...prev, file]);\n    });\n\n    socket.on('file_deleted', ({ fileId }) => {\n      setFiles(prev => prev.filter(f => f._id !== fileId));\n      if (openFiles.find(f => f._id === fileId)) {\n        closeFile(fileId);\n      }\n    });\n\n    socket.on('file_renamed', ({ fileId, newName, language }) => {\n      setFiles(prev => prev.map(f => \n        f._id === fileId ? { ...f, name: newName, language } : f\n      ));\n      setOpenFiles(prev => prev.map(f => \n        f._id === fileId ? { ...f, name: newName, language } : f\n      ));\n    });\n\n    // Execution complete\n    socket.on('execution_complete', (data) => {\n      setExecutionOutput(data);\n      setIsExecuting(false);\n    });\n\n    return () => {\n      socket.off('user_joined');\n      socket.off('user_left');\n      socket.off('project_users');\n      socket.off('file_created');\n      socket.off('file_deleted');\n      socket.off('file_renamed');\n      socket.off('execution_complete');\n    };\n  }, [socket, openFiles, closeFile]);\n\n  const value = {\n    socket,\n    currentProject,\n    files,\n    openFiles,\n    activeFileId,\n    activeUsers,\n    cursors,\n    executionOutput,\n    isExecuting,\n    loadProject,\n    leaveProject,\n    openFile,\n    closeFile,\n    saveFile,\n    createFile,\n    deleteFile,\n    executeCode,\n    setActiveFileId,\n    setCursors\n  };\n\n  return (\n    <ProjectContext.Provider value={value}>\n      {children}\n    </ProjectContext.Provider>\n  );\n};\n\nexport default ProjectContext;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}