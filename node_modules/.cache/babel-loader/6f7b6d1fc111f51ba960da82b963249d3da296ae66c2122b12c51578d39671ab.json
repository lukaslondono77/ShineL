{"ast":null,"code":"import _objectSpread from\"/Users/lukasygina/image-share-app-1/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useRef,useState,useCallback}from'react';import Editor from'@monaco-editor/react';import{useProject}from'../context/ProjectContext';import{Box,IconButton,Tooltip,CircularProgress,Chip}from'@mui/material';import{PlayArrow,Save,Close,AutoAwesome}from'@mui/icons-material';import api from'../utils/api';import'./CodeEditor.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CodeEditor=_ref=>{let{file}=_ref;const editorRef=useRef(null);const monacoRef=useRef(null);const[code,setCode]=useState((file===null||file===void 0?void 0:file.content)||'');const[hasUnsavedChanges,setHasUnsavedChanges]=useState(false);const[isSaving,setIsSaving]=useState(false);const[aiEnabled,setAiEnabled]=useState(true);const[isLoadingAI,setIsLoadingAI]=useState(false);const{socket,currentProject,saveFile,executeCode,isExecuting,cursors,setCursors,closeFile}=useProject();const decorationsRef=useRef([]);// Update code when file changes\nuseEffect(()=>{if(file){setCode(file.content||'');setHasUnsavedChanges(false);}},[file===null||file===void 0?void 0:file._id]);// AI Autocomplete Function\nconst getAICompletion=useCallback(async(editor,monaco)=>{if(!aiEnabled||isLoadingAI)return;const model=editor.getModel();const position=editor.getPosition();const code=model.getValue();setIsLoadingAI(true);try{const response=await api.post('/ai/complete',{code,language:(file===null||file===void 0?void 0:file.language)||'javascript',cursorPosition:{line:position.lineNumber,column:position.column}});const suggestion=response.data.suggestion;if(suggestion&&suggestion.trim()){// Show inline suggestion (ghost text)\nconst endLineNumber=position.lineNumber;const endColumn=position.column;// Insert AI suggestion as ghost text\neditor.executeEdits('ai-completion',[{range:new monaco.Range(endLineNumber,endColumn,endLineNumber,endColumn),text:suggestion}]);// Move cursor to end of insertion\nconst lines=suggestion.split('\\n');const lastLine=lines[lines.length-1];const newPosition=new monaco.Position(endLineNumber+lines.length-1,lines.length===1?endColumn+lastLine.length:lastLine.length+1);editor.setPosition(newPosition);editor.revealPositionInCenter(newPosition);}}catch(error){console.error('AI completion error:',error);}finally{setIsLoadingAI(false);}},[file,aiEnabled,isLoadingAI]);// Handle editor mount\nconst handleEditorDidMount=(editor,monaco)=>{editorRef.current=editor;monacoRef.current=monaco;// Add keyboard shortcuts\neditor.addCommand(monaco.KeyMod.CtrlCmd|monaco.KeyCode.KeyS,handleSave);editor.addCommand(monaco.KeyMod.CtrlCmd|monaco.KeyCode.Enter,handleRun);// AI Autocomplete - Ctrl+Space\neditor.addCommand(monaco.KeyMod.CtrlCmd|monaco.KeyCode.Space,()=>getAICompletion(editor,monaco));// Register AI completion provider\nmonaco.languages.registerCompletionItemProvider((file===null||file===void 0?void 0:file.language)||'javascript',{triggerCharacters:['.','(',' '],provideCompletionItems:async(model,position)=>{if(!aiEnabled)return{suggestions:[]};const code=model.getValue();const word=model.getWordUntilPosition(position);const range={startLineNumber:position.lineNumber,endLineNumber:position.lineNumber,startColumn:word.startColumn,endColumn:word.endColumn};try{var _response$data$sugges;const response=await api.post('/ai/complete',{code,language:(file===null||file===void 0?void 0:file.language)||'javascript',cursorPosition:{line:position.lineNumber,column:position.column}});const suggestion=(_response$data$sugges=response.data.suggestion)===null||_response$data$sugges===void 0?void 0:_response$data$sugges.trim();if(suggestion){return{suggestions:[{label:'âœ¨ AI Suggestion',kind:monaco.languages.CompletionItemKind.Snippet,insertText:suggestion,insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:range,detail:'AI-powered completion',documentation:suggestion}]};}}catch(error){console.error('AI provider error:',error);}return{suggestions:[]};}});// Focus editor\neditor.focus();};// Handle code changes\nconst handleEditorChange=useCallback(value=>{setCode(value);setHasUnsavedChanges(true);if(socket&&currentProject&&file){var _editorRef$current;// Get the changes from Monaco\nconst model=(_editorRef$current=editorRef.current)===null||_editorRef$current===void 0?void 0:_editorRef$current.getModel();if(!model)return;// Emit code change to other users\nsocket.emit('code_change',{projectId:currentProject._id,fileId:file._id,changes:[{range:model.getFullModelRange(),text:value}],version:model.getVersionId()});}},[socket,currentProject,file]);// Handle cursor position changes\nconst handleCursorChange=useCallback(e=>{if(!socket||!currentProject||!file)return;const position=e.position;socket.emit('cursor_update',{projectId:currentProject._id,fileId:file._id,position:{line:position.lineNumber,column:position.column}});},[socket,currentProject,file]);// Listen for remote code changes\nuseEffect(()=>{if(!socket||!file)return;const handleCodeUpdated=_ref2=>{let{fileId,changes,userId,socketId}=_ref2;if(fileId!==file._id||socketId===socket.id)return;const editor=editorRef.current;const monaco=monacoRef.current;if(!editor||!monaco)return;// Apply remote changes\nchanges.forEach(change=>{const model=editor.getModel();if(model){const range=new monaco.Range(change.range.startLineNumber,change.range.startColumn,change.range.endLineNumber,change.range.endColumn);model.pushEditOperations([],[{range,text:change.text}],()=>null);}});};const handleCursorMoved=_ref3=>{let{fileId,userId,socketId,username,position}=_ref3;if(fileId!==file._id||socketId===socket.id)return;setCursors(prev=>_objectSpread(_objectSpread({},prev),{},{[socketId]:{userId,username,position}}));// Show cursor decoration\nconst editor=editorRef.current;const monaco=monacoRef.current;if(!editor||!monaco)return;// Remove old decorations for this user\nconst oldDecorations=decorationsRef.current.filter(d=>d.socketId===socketId);if(oldDecorations.length>0){editor.deltaDecorations(oldDecorations.map(d=>d.id),[]);}// Add new cursor decoration\nconst newDecorations=editor.deltaDecorations([],[{range:new monaco.Range(position.line,position.column,position.line,position.column+1),options:{className:\"remote-cursor remote-cursor-\".concat(socketId.substr(0,6)),hoverMessage:{value:\"**\".concat(username,\"**'s cursor\")},stickiness:monaco.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}}]);decorationsRef.current=decorationsRef.current.filter(d=>d.socketId!==socketId);decorationsRef.current.push({socketId,id:newDecorations[0]});};socket.on('code_updated',handleCodeUpdated);socket.on('cursor_moved',handleCursorMoved);return()=>{socket.off('code_updated',handleCodeUpdated);socket.off('cursor_moved',handleCursorMoved);};},[socket,file,setCursors]);// Add cursor position listener\nuseEffect(()=>{const editor=editorRef.current;if(!editor)return;const disposable=editor.onDidChangeCursorPosition(handleCursorChange);return()=>disposable.dispose();},[handleCursorChange]);// Save file\nconst handleSave=useCallback(async()=>{if(!file||!hasUnsavedChanges||isSaving)return;try{setIsSaving(true);await saveFile(file._id,code);setHasUnsavedChanges(false);console.log('File saved successfully');}catch(error){console.error('Failed to save file:',error);}finally{setIsSaving(false);}},[file,code,hasUnsavedChanges,isSaving,saveFile]);// Run code\nconst handleRun=useCallback(async()=>{if(!file||isExecuting)return;try{await executeCode(code,file.language);}catch(error){console.error('Failed to execute code:',error);}},[file,code,isExecuting,executeCode]);// Close file\nconst handleClose=()=>{if(hasUnsavedChanges){if(window.confirm('You have unsaved changes. Close anyway?')){closeFile(file._id);}}else{closeFile(file._id);}};if(!file){return/*#__PURE__*/_jsx(Box,{sx:{display:'flex',alignItems:'center',justifyContent:'center',height:'100%',color:'#888'},children:\"Select a file to start editing\"});}return/*#__PURE__*/_jsxs(Box,{sx:{height:'100%',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',justifyContent:'space-between',bgcolor:'#2d2d2d',borderBottom:'1px solid #1e1e1e',px:2,py:0.5},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:1},children:[/*#__PURE__*/_jsxs(\"span\",{style:{color:'#fff',fontSize:'14px'},children:[file.name,hasUnsavedChanges&&/*#__PURE__*/_jsx(\"span\",{style:{color:'#fff'},children:\" \\u2022\"})]}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#888',fontSize:'12px'},children:file.language})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:0.5,alignItems:'center'},children:[/*#__PURE__*/_jsx(Chip,{icon:/*#__PURE__*/_jsx(AutoAwesome,{fontSize:\"small\"}),label:isLoadingAI?'AI...':'AI',size:\"small\",onClick:()=>setAiEnabled(!aiEnabled),sx:{height:'24px',bgcolor:aiEnabled?'rgba(147, 51, 234, 0.2)':'transparent',color:aiEnabled?'#a78bfa':'#666',border:'1px solid',borderColor:aiEnabled?'#a78bfa':'#666','& .MuiChip-icon':{color:'inherit'},cursor:'pointer',mr:1}}),/*#__PURE__*/_jsx(Tooltip,{title:\"AI Autocomplete (Ctrl+Space)\",children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>getAICompletion(editorRef.current,monacoRef.current),disabled:!aiEnabled||isLoadingAI,sx:{color:aiEnabled?'#a78bfa':'#666'},children:isLoadingAI?/*#__PURE__*/_jsx(CircularProgress,{size:18}):/*#__PURE__*/_jsx(AutoAwesome,{fontSize:\"small\"})})}),/*#__PURE__*/_jsx(Tooltip,{title:\"Save (Ctrl+S)\",children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:handleSave,disabled:!hasUnsavedChanges||isSaving,sx:{color:hasUnsavedChanges?'#4CAF50':'#666'},children:isSaving?/*#__PURE__*/_jsx(CircularProgress,{size:18}):/*#__PURE__*/_jsx(Save,{fontSize:\"small\"})})}),/*#__PURE__*/_jsx(Tooltip,{title:\"Run Code (Ctrl+Enter)\",children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:handleRun,disabled:isExecuting,sx:{color:'#2196F3'},children:isExecuting?/*#__PURE__*/_jsx(CircularProgress,{size:18}):/*#__PURE__*/_jsx(PlayArrow,{fontSize:\"small\"})})}),/*#__PURE__*/_jsx(Tooltip,{title:\"Close\",children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:handleClose,sx:{color:'#666'},children:/*#__PURE__*/_jsx(Close,{fontSize:\"small\"})})})]})]}),/*#__PURE__*/_jsx(Box,{sx:{flexGrow:1,position:'relative'},children:/*#__PURE__*/_jsx(Editor,{height:\"100%\",language:file.language,value:code,onChange:handleEditorChange,onMount:handleEditorDidMount,theme:\"vs-dark\",options:{fontSize:14,minimap:{enabled:true},automaticLayout:true,scrollBeyondLastLine:false,wordWrap:'on',tabSize:2,insertSpaces:true,formatOnPaste:true,formatOnType:true,suggestOnTriggerCharacters:true,quickSuggestions:true,cursorBlinking:'smooth',cursorSmoothCaretAnimation:true}})})]});};export default CodeEditor;","map":{"version":3,"names":["React","useEffect","useRef","useState","useCallback","Editor","useProject","Box","IconButton","Tooltip","CircularProgress","Chip","PlayArrow","Save","Close","AutoAwesome","api","jsx","_jsx","jsxs","_jsxs","CodeEditor","_ref","file","editorRef","monacoRef","code","setCode","content","hasUnsavedChanges","setHasUnsavedChanges","isSaving","setIsSaving","aiEnabled","setAiEnabled","isLoadingAI","setIsLoadingAI","socket","currentProject","saveFile","executeCode","isExecuting","cursors","setCursors","closeFile","decorationsRef","_id","getAICompletion","editor","monaco","model","getModel","position","getPosition","getValue","response","post","language","cursorPosition","line","lineNumber","column","suggestion","data","trim","endLineNumber","endColumn","executeEdits","range","Range","text","lines","split","lastLine","length","newPosition","Position","setPosition","revealPositionInCenter","error","console","handleEditorDidMount","current","addCommand","KeyMod","CtrlCmd","KeyCode","KeyS","handleSave","Enter","handleRun","Space","languages","registerCompletionItemProvider","triggerCharacters","provideCompletionItems","suggestions","word","getWordUntilPosition","startLineNumber","startColumn","_response$data$sugges","label","kind","CompletionItemKind","Snippet","insertText","insertTextRules","CompletionItemInsertTextRule","InsertAsSnippet","detail","documentation","focus","handleEditorChange","value","_editorRef$current","emit","projectId","fileId","changes","getFullModelRange","version","getVersionId","handleCursorChange","e","handleCodeUpdated","_ref2","userId","socketId","id","forEach","change","pushEditOperations","handleCursorMoved","_ref3","username","prev","_objectSpread","oldDecorations","filter","d","deltaDecorations","map","newDecorations","options","className","concat","substr","hoverMessage","stickiness","TrackedRangeStickiness","NeverGrowsWhenTypingAtEdges","push","on","off","disposable","onDidChangeCursorPosition","dispose","log","handleClose","window","confirm","sx","display","alignItems","justifyContent","height","color","children","flexDirection","bgcolor","borderBottom","px","py","gap","style","fontSize","name","icon","size","onClick","border","borderColor","cursor","mr","title","disabled","flexGrow","onChange","onMount","theme","minimap","enabled","automaticLayout","scrollBeyondLastLine","wordWrap","tabSize","insertSpaces","formatOnPaste","formatOnType","suggestOnTriggerCharacters","quickSuggestions","cursorBlinking","cursorSmoothCaretAnimation"],"sources":["/Users/lukasygina/image-share-app-1/client/src/components/CodeEditor.js"],"sourcesContent":["import React, { useEffect, useRef, useState, useCallback } from 'react';\nimport Editor from '@monaco-editor/react';\nimport { useProject } from '../context/ProjectContext';\nimport { Box, IconButton, Tooltip, CircularProgress, Chip } from '@mui/material';\nimport { PlayArrow, Save, Close, AutoAwesome } from '@mui/icons-material';\nimport api from '../utils/api';\nimport './CodeEditor.css';\n\nconst CodeEditor = ({ file }) => {\n  const editorRef = useRef(null);\n  const monacoRef = useRef(null);\n  const [code, setCode] = useState(file?.content || '');\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\n  const [isSaving, setIsSaving] = useState(false);\n  const [aiEnabled, setAiEnabled] = useState(true);\n  const [isLoadingAI, setIsLoadingAI] = useState(false);\n  \n  const {\n    socket,\n    currentProject,\n    saveFile,\n    executeCode,\n    isExecuting,\n    cursors,\n    setCursors,\n    closeFile\n  } = useProject();\n\n  const decorationsRef = useRef([]);\n\n  // Update code when file changes\n  useEffect(() => {\n    if (file) {\n      setCode(file.content || '');\n      setHasUnsavedChanges(false);\n    }\n  }, [file?._id]);\n\n  // AI Autocomplete Function\n  const getAICompletion = useCallback(async (editor, monaco) => {\n    if (!aiEnabled || isLoadingAI) return;\n\n    const model = editor.getModel();\n    const position = editor.getPosition();\n    const code = model.getValue();\n\n    setIsLoadingAI(true);\n\n    try {\n      const response = await api.post('/ai/complete', {\n        code,\n        language: file?.language || 'javascript',\n        cursorPosition: {\n          line: position.lineNumber,\n          column: position.column\n        }\n      });\n\n      const suggestion = response.data.suggestion;\n\n      if (suggestion && suggestion.trim()) {\n        // Show inline suggestion (ghost text)\n        const endLineNumber = position.lineNumber;\n        const endColumn = position.column;\n        \n        // Insert AI suggestion as ghost text\n        editor.executeEdits('ai-completion', [{\n          range: new monaco.Range(\n            endLineNumber,\n            endColumn,\n            endLineNumber,\n            endColumn\n          ),\n          text: suggestion\n        }]);\n\n        // Move cursor to end of insertion\n        const lines = suggestion.split('\\n');\n        const lastLine = lines[lines.length - 1];\n        const newPosition = new monaco.Position(\n          endLineNumber + lines.length - 1,\n          lines.length === 1 ? endColumn + lastLine.length : lastLine.length + 1\n        );\n        editor.setPosition(newPosition);\n        editor.revealPositionInCenter(newPosition);\n      }\n    } catch (error) {\n      console.error('AI completion error:', error);\n    } finally {\n      setIsLoadingAI(false);\n    }\n  }, [file, aiEnabled, isLoadingAI]);\n\n  // Handle editor mount\n  const handleEditorDidMount = (editor, monaco) => {\n    editorRef.current = editor;\n    monacoRef.current = monaco;\n\n    // Add keyboard shortcuts\n    editor.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyCode.KeyS, handleSave);\n    editor.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyCode.Enter, handleRun);\n    \n    // AI Autocomplete - Ctrl+Space\n    editor.addCommand(\n      monaco.KeyMod.CtrlCmd | monaco.KeyCode.Space,\n      () => getAICompletion(editor, monaco)\n    );\n\n    // Register AI completion provider\n    monaco.languages.registerCompletionItemProvider(file?.language || 'javascript', {\n      triggerCharacters: ['.', '(', ' '],\n      provideCompletionItems: async (model, position) => {\n        if (!aiEnabled) return { suggestions: [] };\n\n        const code = model.getValue();\n        const word = model.getWordUntilPosition(position);\n        const range = {\n          startLineNumber: position.lineNumber,\n          endLineNumber: position.lineNumber,\n          startColumn: word.startColumn,\n          endColumn: word.endColumn\n        };\n\n        try {\n          const response = await api.post('/ai/complete', {\n            code,\n            language: file?.language || 'javascript',\n            cursorPosition: {\n              line: position.lineNumber,\n              column: position.column\n            }\n          });\n\n          const suggestion = response.data.suggestion?.trim();\n\n          if (suggestion) {\n            return {\n              suggestions: [{\n                label: 'âœ¨ AI Suggestion',\n                kind: monaco.languages.CompletionItemKind.Snippet,\n                insertText: suggestion,\n                insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,\n                range: range,\n                detail: 'AI-powered completion',\n                documentation: suggestion\n              }]\n            };\n          }\n        } catch (error) {\n          console.error('AI provider error:', error);\n        }\n\n        return { suggestions: [] };\n      }\n    });\n    \n    // Focus editor\n    editor.focus();\n  };\n\n  // Handle code changes\n  const handleEditorChange = useCallback((value) => {\n    setCode(value);\n    setHasUnsavedChanges(true);\n\n    if (socket && currentProject && file) {\n      // Get the changes from Monaco\n      const model = editorRef.current?.getModel();\n      if (!model) return;\n\n      // Emit code change to other users\n      socket.emit('code_change', {\n        projectId: currentProject._id,\n        fileId: file._id,\n        changes: [{\n          range: model.getFullModelRange(),\n          text: value\n        }],\n        version: model.getVersionId()\n      });\n    }\n  }, [socket, currentProject, file]);\n\n  // Handle cursor position changes\n  const handleCursorChange = useCallback((e) => {\n    if (!socket || !currentProject || !file) return;\n\n    const position = e.position;\n    socket.emit('cursor_update', {\n      projectId: currentProject._id,\n      fileId: file._id,\n      position: {\n        line: position.lineNumber,\n        column: position.column\n      }\n    });\n  }, [socket, currentProject, file]);\n\n  // Listen for remote code changes\n  useEffect(() => {\n    if (!socket || !file) return;\n\n    const handleCodeUpdated = ({ fileId, changes, userId, socketId }) => {\n      if (fileId !== file._id || socketId === socket.id) return;\n\n      const editor = editorRef.current;\n      const monaco = monacoRef.current;\n      if (!editor || !monaco) return;\n\n      // Apply remote changes\n      changes.forEach(change => {\n        const model = editor.getModel();\n        if (model) {\n          const range = new monaco.Range(\n            change.range.startLineNumber,\n            change.range.startColumn,\n            change.range.endLineNumber,\n            change.range.endColumn\n          );\n          \n          model.pushEditOperations(\n            [],\n            [{ range, text: change.text }],\n            () => null\n          );\n        }\n      });\n    };\n\n    const handleCursorMoved = ({ fileId, userId, socketId, username, position }) => {\n      if (fileId !== file._id || socketId === socket.id) return;\n\n      setCursors(prev => ({\n        ...prev,\n        [socketId]: { userId, username, position }\n      }));\n\n      // Show cursor decoration\n      const editor = editorRef.current;\n      const monaco = monacoRef.current;\n      if (!editor || !monaco) return;\n\n      // Remove old decorations for this user\n      const oldDecorations = decorationsRef.current.filter(d => d.socketId === socketId);\n      if (oldDecorations.length > 0) {\n        editor.deltaDecorations(oldDecorations.map(d => d.id), []);\n      }\n\n      // Add new cursor decoration\n      const newDecorations = editor.deltaDecorations(\n        [],\n        [{\n          range: new monaco.Range(\n            position.line,\n            position.column,\n            position.line,\n            position.column + 1\n          ),\n          options: {\n            className: `remote-cursor remote-cursor-${socketId.substr(0, 6)}`,\n            hoverMessage: { value: `**${username}**'s cursor` },\n            stickiness: monaco.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges\n          }\n        }]\n      );\n\n      decorationsRef.current = decorationsRef.current.filter(d => d.socketId !== socketId);\n      decorationsRef.current.push({ socketId, id: newDecorations[0] });\n    };\n\n    socket.on('code_updated', handleCodeUpdated);\n    socket.on('cursor_moved', handleCursorMoved);\n\n    return () => {\n      socket.off('code_updated', handleCodeUpdated);\n      socket.off('cursor_moved', handleCursorMoved);\n    };\n  }, [socket, file, setCursors]);\n\n  // Add cursor position listener\n  useEffect(() => {\n    const editor = editorRef.current;\n    if (!editor) return;\n\n    const disposable = editor.onDidChangeCursorPosition(handleCursorChange);\n    return () => disposable.dispose();\n  }, [handleCursorChange]);\n\n  // Save file\n  const handleSave = useCallback(async () => {\n    if (!file || !hasUnsavedChanges || isSaving) return;\n\n    try {\n      setIsSaving(true);\n      await saveFile(file._id, code);\n      setHasUnsavedChanges(false);\n      console.log('File saved successfully');\n    } catch (error) {\n      console.error('Failed to save file:', error);\n    } finally {\n      setIsSaving(false);\n    }\n  }, [file, code, hasUnsavedChanges, isSaving, saveFile]);\n\n  // Run code\n  const handleRun = useCallback(async () => {\n    if (!file || isExecuting) return;\n\n    try {\n      await executeCode(code, file.language);\n    } catch (error) {\n      console.error('Failed to execute code:', error);\n    }\n  }, [file, code, isExecuting, executeCode]);\n\n  // Close file\n  const handleClose = () => {\n    if (hasUnsavedChanges) {\n      if (window.confirm('You have unsaved changes. Close anyway?')) {\n        closeFile(file._id);\n      }\n    } else {\n      closeFile(file._id);\n    }\n  };\n\n  if (!file) {\n    return (\n      <Box\n        sx={{\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          height: '100%',\n          color: '#888'\n        }}\n      >\n        Select a file to start editing\n      </Box>\n    );\n  }\n\n  return (\n    <Box sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\n      {/* File Tab */}\n      <Box\n        sx={{\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'space-between',\n          bgcolor: '#2d2d2d',\n          borderBottom: '1px solid #1e1e1e',\n          px: 2,\n          py: 0.5\n        }}\n      >\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n          <span style={{ color: '#fff', fontSize: '14px' }}>\n            {file.name}\n            {hasUnsavedChanges && <span style={{ color: '#fff' }}> â€¢</span>}\n          </span>\n          <span style={{ color: '#888', fontSize: '12px' }}>\n            {file.language}\n          </span>\n        </Box>\n\n        <Box sx={{ display: 'flex', gap: 0.5, alignItems: 'center' }}>\n          {/* AI Status Indicator */}\n          <Chip\n            icon={<AutoAwesome fontSize=\"small\" />}\n            label={isLoadingAI ? 'AI...' : 'AI'}\n            size=\"small\"\n            onClick={() => setAiEnabled(!aiEnabled)}\n            sx={{\n              height: '24px',\n              bgcolor: aiEnabled ? 'rgba(147, 51, 234, 0.2)' : 'transparent',\n              color: aiEnabled ? '#a78bfa' : '#666',\n              border: '1px solid',\n              borderColor: aiEnabled ? '#a78bfa' : '#666',\n              '& .MuiChip-icon': { color: 'inherit' },\n              cursor: 'pointer',\n              mr: 1\n            }}\n          />\n\n          <Tooltip title=\"AI Autocomplete (Ctrl+Space)\">\n            <IconButton\n              size=\"small\"\n              onClick={() => getAICompletion(editorRef.current, monacoRef.current)}\n              disabled={!aiEnabled || isLoadingAI}\n              sx={{ color: aiEnabled ? '#a78bfa' : '#666' }}\n            >\n              {isLoadingAI ? <CircularProgress size={18} /> : <AutoAwesome fontSize=\"small\" />}\n            </IconButton>\n          </Tooltip>\n\n          <Tooltip title=\"Save (Ctrl+S)\">\n            <IconButton\n              size=\"small\"\n              onClick={handleSave}\n              disabled={!hasUnsavedChanges || isSaving}\n              sx={{ color: hasUnsavedChanges ? '#4CAF50' : '#666' }}\n            >\n              {isSaving ? <CircularProgress size={18} /> : <Save fontSize=\"small\" />}\n            </IconButton>\n          </Tooltip>\n\n          <Tooltip title=\"Run Code (Ctrl+Enter)\">\n            <IconButton\n              size=\"small\"\n              onClick={handleRun}\n              disabled={isExecuting}\n              sx={{ color: '#2196F3' }}\n            >\n              {isExecuting ? <CircularProgress size={18} /> : <PlayArrow fontSize=\"small\" />}\n            </IconButton>\n          </Tooltip>\n\n          <Tooltip title=\"Close\">\n            <IconButton\n              size=\"small\"\n              onClick={handleClose}\n              sx={{ color: '#666' }}\n            >\n              <Close fontSize=\"small\" />\n            </IconButton>\n          </Tooltip>\n        </Box>\n      </Box>\n\n      {/* Monaco Editor */}\n      <Box sx={{ flexGrow: 1, position: 'relative' }}>\n        <Editor\n          height=\"100%\"\n          language={file.language}\n          value={code}\n          onChange={handleEditorChange}\n          onMount={handleEditorDidMount}\n          theme=\"vs-dark\"\n          options={{\n            fontSize: 14,\n            minimap: { enabled: true },\n            automaticLayout: true,\n            scrollBeyondLastLine: false,\n            wordWrap: 'on',\n            tabSize: 2,\n            insertSpaces: true,\n            formatOnPaste: true,\n            formatOnType: true,\n            suggestOnTriggerCharacters: true,\n            quickSuggestions: true,\n            cursorBlinking: 'smooth',\n            cursorSmoothCaretAnimation: true\n          }}\n        />\n      </Box>\n    </Box>\n  );\n};\n\nexport default CodeEditor;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}