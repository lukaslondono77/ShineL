{"ast":null,"code":"var _jsxFileName = \"/Users/lukasygina/image-share-app-1/client/src/components/AudioRecorder.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { IconButton, Box, Typography, LinearProgress, Button, Alert, useTheme, useMediaQuery } from '@mui/material';\nimport { Mic as MicIcon, Stop as StopIcon, PlayArrow as PlayIcon, Delete as DeleteIcon, Send as SendIcon } from '@mui/icons-material';\nimport API_URL from '../utils/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AudioRecorder = ({\n  onSendAudio,\n  disabled = false\n}) => {\n  _s();\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\n  const [isRecording, setIsRecording] = useState(false);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [audioBlob, setAudioBlob] = useState(null);\n  const [audioUrl, setAudioUrl] = useState(null);\n  const [duration, setDuration] = useState(0);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [error, setError] = useState(null);\n  const [isUploading, setIsUploading] = useState(false);\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const audioRef = useRef(null);\n  const startTimeRef = useRef(null);\n  const intervalRef = useRef(null);\n  useEffect(() => {\n    return () => {\n      if (audioUrl) {\n        URL.revokeObjectURL(audioUrl);\n      }\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n      }\n    };\n  }, [audioUrl]);\n  const startRecording = async () => {\n    try {\n      setError(null);\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: true\n      });\n      mediaRecorderRef.current = new MediaRecorder(stream);\n      audioChunksRef.current = [];\n      mediaRecorderRef.current.ondataavailable = event => {\n        audioChunksRef.current.push(event.data);\n      };\n      mediaRecorderRef.current.onstop = () => {\n        const blob = new Blob(audioChunksRef.current, {\n          type: 'audio/wav'\n        });\n        const url = URL.createObjectURL(blob);\n        setAudioBlob(blob);\n        setAudioUrl(url);\n\n        // Stop all tracks\n        stream.getTracks().forEach(track => track.stop());\n      };\n      mediaRecorderRef.current.start();\n      setIsRecording(true);\n      startTimeRef.current = Date.now();\n\n      // Update duration every 100ms\n      intervalRef.current = setInterval(() => {\n        setDuration((Date.now() - startTimeRef.current) / 1000);\n      }, 100);\n    } catch (error) {\n      console.error('Error starting recording:', error);\n      setError('No se pudo acceder al micrófono. Verifica los permisos.');\n    }\n  };\n  const stopRecording = () => {\n    if (mediaRecorderRef.current && isRecording) {\n      mediaRecorderRef.current.stop();\n      setIsRecording(false);\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n      }\n    }\n  };\n  const playAudio = () => {\n    if (audioRef.current) {\n      audioRef.current.play();\n      setIsPlaying(true);\n    }\n  };\n  const pauseAudio = () => {\n    if (audioRef.current) {\n      audioRef.current.pause();\n      setIsPlaying(false);\n    }\n  };\n  const deleteRecording = () => {\n    if (audioUrl) {\n      URL.revokeObjectURL(audioUrl);\n    }\n    setAudioBlob(null);\n    setAudioUrl(null);\n    setDuration(0);\n    setCurrentTime(0);\n    setIsPlaying(false);\n  };\n  const sendAudio = async () => {\n    if (!audioBlob) return;\n    setIsUploading(true);\n    setError(null);\n    try {\n      const formData = new FormData();\n      formData.append('audio', audioBlob, 'recording.wav');\n      const token = localStorage.getItem('token');\n      if (!token) {\n        throw new Error('No authentication token found');\n      }\n      console.log('Uploading audio to:', `${API_URL}/api/audio/upload`);\n      const response = await fetch(`${API_URL}/api/audio/upload`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        },\n        body: formData\n      });\n      console.log('Upload response status:', response.status);\n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error('Upload error response:', errorText);\n        throw new Error(`Error uploading audio: ${response.status} ${response.statusText}`);\n      }\n      const data = await response.json();\n      console.log('Upload successful:', data);\n\n      // Send audio message\n      await onSendAudio(data.audioUrl, Math.round(duration));\n\n      // Clean up\n      deleteRecording();\n    } catch (error) {\n      console.error('Error sending audio:', error);\n      setError(`Error al enviar el audio: ${error.message}`);\n    } finally {\n      setIsUploading(false);\n    }\n  };\n  const formatTime = seconds => {\n    const mins = Math.floor(seconds / 60);\n    const secs = Math.floor(seconds % 60);\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n  const handleTimeUpdate = () => {\n    if (audioRef.current) {\n      setCurrentTime(audioRef.current.currentTime);\n    }\n  };\n  const handleAudioEnded = () => {\n    setIsPlaying(false);\n    setCurrentTime(0);\n  };\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 2\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      width: '100%'\n    },\n    children: [!audioBlob ?\n    /*#__PURE__*/\n    // Recording interface\n    _jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        alignItems: 'center',\n        gap: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(IconButton, {\n        color: isRecording ? 'error' : 'primary',\n        onClick: isRecording ? stopRecording : startRecording,\n        disabled: disabled,\n        sx: {\n          bgcolor: isRecording ? 'error.main' : 'primary.main',\n          color: 'white',\n          '&:hover': {\n            bgcolor: isRecording ? 'error.dark' : 'primary.dark'\n          },\n          width: isMobile ? 48 : 40,\n          height: isMobile ? 48 : 40\n        },\n        children: isRecording ? /*#__PURE__*/_jsxDEV(StopIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 28\n        }, this) : /*#__PURE__*/_jsxDEV(MicIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 43\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }, this), isRecording && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          flexGrow: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          children: [\"Grabando... \", formatTime(duration)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(LinearProgress, {\n          variant: \"determinate\",\n          value: duration / 60 * 100 // Max 60 seconds\n          ,\n          sx: {\n            mt: 0.5\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 9\n    }, this) :\n    /*#__PURE__*/\n    // Playback interface\n    _jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        alignItems: 'center',\n        gap: 1,\n        p: 1,\n        bgcolor: 'background.paper',\n        borderRadius: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(IconButton, {\n        color: \"primary\",\n        onClick: isPlaying ? pauseAudio : playAudio,\n        size: \"small\",\n        children: isPlaying ? /*#__PURE__*/_jsxDEV(StopIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 26\n        }, this) : /*#__PURE__*/_jsxDEV(PlayIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 41\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          flexGrow: 1,\n          mx: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          children: [formatTime(currentTime), \" / \", formatTime(duration)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(LinearProgress, {\n          variant: \"determinate\",\n          value: currentTime / duration * 100,\n          sx: {\n            mt: 0.5\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        color: \"error\",\n        onClick: deleteRecording,\n        size: \"small\",\n        disabled: isUploading,\n        children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        size: \"small\",\n        onClick: sendAudio,\n        disabled: disabled || isUploading,\n        startIcon: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 24\n        }, this),\n        children: isUploading ? 'Enviando...' : 'Enviar'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 9\n    }, this), audioUrl && /*#__PURE__*/_jsxDEV(\"audio\", {\n      ref: audioRef,\n      src: audioUrl,\n      onTimeUpdate: handleTimeUpdate,\n      onEnded: handleAudioEnded,\n      style: {\n        display: 'none'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 199,\n    columnNumber: 5\n  }, this);\n};\n_s(AudioRecorder, \"wiZSVw7TtXkKZC38feR9VrzlAz8=\", false, function () {\n  return [useTheme, useMediaQuery];\n});\n_c = AudioRecorder;\nexport default AudioRecorder;\nvar _c;\n$RefreshReg$(_c, \"AudioRecorder\");","map":{"version":3,"names":["React","useState","useRef","useEffect","IconButton","Box","Typography","LinearProgress","Button","Alert","useTheme","useMediaQuery","Mic","MicIcon","Stop","StopIcon","PlayArrow","PlayIcon","Delete","DeleteIcon","Send","SendIcon","API_URL","jsxDEV","_jsxDEV","AudioRecorder","onSendAudio","disabled","_s","theme","isMobile","breakpoints","down","isRecording","setIsRecording","isPlaying","setIsPlaying","audioBlob","setAudioBlob","audioUrl","setAudioUrl","duration","setDuration","currentTime","setCurrentTime","error","setError","isUploading","setIsUploading","mediaRecorderRef","audioChunksRef","audioRef","startTimeRef","intervalRef","URL","revokeObjectURL","current","clearInterval","startRecording","stream","navigator","mediaDevices","getUserMedia","audio","MediaRecorder","ondataavailable","event","push","data","onstop","blob","Blob","type","url","createObjectURL","getTracks","forEach","track","stop","start","Date","now","setInterval","console","stopRecording","playAudio","play","pauseAudio","pause","deleteRecording","sendAudio","formData","FormData","append","token","localStorage","getItem","Error","log","response","fetch","method","headers","body","status","ok","errorText","text","statusText","json","Math","round","message","formatTime","seconds","mins","floor","secs","toString","padStart","handleTimeUpdate","handleAudioEnded","severity","sx","mb","children","fileName","_jsxFileName","lineNumber","columnNumber","width","display","alignItems","gap","color","onClick","bgcolor","height","flexGrow","variant","value","mt","p","borderRadius","size","mx","startIcon","ref","src","onTimeUpdate","onEnded","style","_c","$RefreshReg$"],"sources":["/Users/lukasygina/image-share-app-1/client/src/components/AudioRecorder.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport {\n  IconButton,\n  Box,\n  Typography,\n  LinearProgress,\n  Button,\n  Alert,\n  useTheme,\n  useMediaQuery\n} from '@mui/material';\nimport {\n  Mic as MicIcon,\n  Stop as StopIcon,\n  PlayArrow as PlayIcon,\n  Delete as DeleteIcon,\n  Send as SendIcon\n} from '@mui/icons-material';\nimport API_URL from '../utils/api';\n\nconst AudioRecorder = ({ onSendAudio, disabled = false }) => {\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\n  \n  const [isRecording, setIsRecording] = useState(false);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [audioBlob, setAudioBlob] = useState(null);\n  const [audioUrl, setAudioUrl] = useState(null);\n  const [duration, setDuration] = useState(0);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [error, setError] = useState(null);\n  const [isUploading, setIsUploading] = useState(false);\n  \n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const audioRef = useRef(null);\n  const startTimeRef = useRef(null);\n  const intervalRef = useRef(null);\n\n  useEffect(() => {\n    return () => {\n      if (audioUrl) {\n        URL.revokeObjectURL(audioUrl);\n      }\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n      }\n    };\n  }, [audioUrl]);\n\n  const startRecording = async () => {\n    try {\n      setError(null);\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      \n      mediaRecorderRef.current = new MediaRecorder(stream);\n      audioChunksRef.current = [];\n      \n      mediaRecorderRef.current.ondataavailable = (event) => {\n        audioChunksRef.current.push(event.data);\n      };\n      \n      mediaRecorderRef.current.onstop = () => {\n        const blob = new Blob(audioChunksRef.current, { type: 'audio/wav' });\n        const url = URL.createObjectURL(blob);\n        setAudioBlob(blob);\n        setAudioUrl(url);\n        \n        // Stop all tracks\n        stream.getTracks().forEach(track => track.stop());\n      };\n      \n      mediaRecorderRef.current.start();\n      setIsRecording(true);\n      startTimeRef.current = Date.now();\n      \n      // Update duration every 100ms\n      intervalRef.current = setInterval(() => {\n        setDuration((Date.now() - startTimeRef.current) / 1000);\n      }, 100);\n      \n    } catch (error) {\n      console.error('Error starting recording:', error);\n      setError('No se pudo acceder al micrófono. Verifica los permisos.');\n    }\n  };\n\n  const stopRecording = () => {\n    if (mediaRecorderRef.current && isRecording) {\n      mediaRecorderRef.current.stop();\n      setIsRecording(false);\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n      }\n    }\n  };\n\n  const playAudio = () => {\n    if (audioRef.current) {\n      audioRef.current.play();\n      setIsPlaying(true);\n    }\n  };\n\n  const pauseAudio = () => {\n    if (audioRef.current) {\n      audioRef.current.pause();\n      setIsPlaying(false);\n    }\n  };\n\n  const deleteRecording = () => {\n    if (audioUrl) {\n      URL.revokeObjectURL(audioUrl);\n    }\n    setAudioBlob(null);\n    setAudioUrl(null);\n    setDuration(0);\n    setCurrentTime(0);\n    setIsPlaying(false);\n  };\n\n  const sendAudio = async () => {\n    if (!audioBlob) return;\n    \n    setIsUploading(true);\n    setError(null);\n    \n    try {\n      const formData = new FormData();\n      formData.append('audio', audioBlob, 'recording.wav');\n      \n      const token = localStorage.getItem('token');\n      if (!token) {\n        throw new Error('No authentication token found');\n      }\n      \n      console.log('Uploading audio to:', `${API_URL}/api/audio/upload`);\n      \n      const response = await fetch(`${API_URL}/api/audio/upload`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        },\n        body: formData\n      });\n      \n      console.log('Upload response status:', response.status);\n      \n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error('Upload error response:', errorText);\n        throw new Error(`Error uploading audio: ${response.status} ${response.statusText}`);\n      }\n      \n      const data = await response.json();\n      console.log('Upload successful:', data);\n      \n      // Send audio message\n      await onSendAudio(data.audioUrl, Math.round(duration));\n      \n      // Clean up\n      deleteRecording();\n      \n    } catch (error) {\n      console.error('Error sending audio:', error);\n      setError(`Error al enviar el audio: ${error.message}`);\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  const formatTime = (seconds) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = Math.floor(seconds % 60);\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  const handleTimeUpdate = () => {\n    if (audioRef.current) {\n      setCurrentTime(audioRef.current.currentTime);\n    }\n  };\n\n  const handleAudioEnded = () => {\n    setIsPlaying(false);\n    setCurrentTime(0);\n  };\n\n  if (error) {\n    return (\n      <Alert severity=\"error\" sx={{ mb: 2 }}>\n        {error}\n      </Alert>\n    );\n  }\n\n  return (\n    <Box sx={{ width: '100%' }}>\n      {!audioBlob ? (\n        // Recording interface\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n          <IconButton\n            color={isRecording ? 'error' : 'primary'}\n            onClick={isRecording ? stopRecording : startRecording}\n            disabled={disabled}\n            sx={{\n              bgcolor: isRecording ? 'error.main' : 'primary.main',\n              color: 'white',\n              '&:hover': {\n                bgcolor: isRecording ? 'error.dark' : 'primary.dark',\n              },\n              width: isMobile ? 48 : 40,\n              height: isMobile ? 48 : 40,\n            }}\n          >\n            {isRecording ? <StopIcon /> : <MicIcon />}\n          </IconButton>\n          \n          {isRecording && (\n            <Box sx={{ flexGrow: 1 }}>\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                Grabando... {formatTime(duration)}\n              </Typography>\n              <LinearProgress \n                variant=\"determinate\" \n                value={(duration / 60) * 100} // Max 60 seconds\n                sx={{ mt: 0.5 }}\n              />\n            </Box>\n          )}\n        </Box>\n      ) : (\n        // Playback interface\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, p: 1, bgcolor: 'background.paper', borderRadius: 1 }}>\n          <IconButton\n            color=\"primary\"\n            onClick={isPlaying ? pauseAudio : playAudio}\n            size=\"small\"\n          >\n            {isPlaying ? <StopIcon /> : <PlayIcon />}\n          </IconButton>\n          \n          <Box sx={{ flexGrow: 1, mx: 1 }}>\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              {formatTime(currentTime)} / {formatTime(duration)}\n            </Typography>\n            <LinearProgress \n              variant=\"determinate\" \n              value={(currentTime / duration) * 100}\n              sx={{ mt: 0.5 }}\n            />\n          </Box>\n          \n          <IconButton\n            color=\"error\"\n            onClick={deleteRecording}\n            size=\"small\"\n            disabled={isUploading}\n          >\n            <DeleteIcon />\n          </IconButton>\n          \n          <Button\n            variant=\"contained\"\n            size=\"small\"\n            onClick={sendAudio}\n            disabled={disabled || isUploading}\n            startIcon={<SendIcon />}\n          >\n            {isUploading ? 'Enviando...' : 'Enviar'}\n          </Button>\n        </Box>\n      )}\n      \n      {audioUrl && (\n        <audio\n          ref={audioRef}\n          src={audioUrl}\n          onTimeUpdate={handleTimeUpdate}\n          onEnded={handleAudioEnded}\n          style={{ display: 'none' }}\n        />\n      )}\n    </Box>\n  );\n};\n\nexport default AudioRecorder; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}