{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Fab,Tooltip,useMediaQuery,useTheme,Snackbar,Alert}from'@mui/material';import{GetApp as GetAppIcon,Close as CloseIcon}from'@mui/icons-material';import{useNavigate}from'react-router-dom';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const FloatingDownloadButton=()=>{const theme=useTheme();const isMobile=useMediaQuery(theme.breakpoints.down('md'));const navigate=useNavigate();const[showSnackbar,setShowSnackbar]=useState(false);const[isPWAInstalled,setIsPWAInstalled]=useState(false);useEffect(()=>{// Check if PWA is already installed\nif(window.matchMedia('(display-mode: standalone)').matches){setIsPWAInstalled(true);}},[]);const handleDownloadClick=()=>{if(isPWAInstalled){setShowSnackbar(true);}else{navigate('/download');}};// Don't show if not mobile or if PWA is already installed\nif(!isMobile||isPWAInstalled){return null;}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Tooltip,{title:\"Download App\",placement:\"left\",children:/*#__PURE__*/_jsx(Fab,{color:\"primary\",\"aria-label\":\"download app\",onClick:handleDownloadClick,sx:{position:'fixed',bottom:16,right:16,zIndex:1000,boxShadow:3,'&:hover':{boxShadow:6,transform:'scale(1.1)',transition:'all 0.2s ease-in-out'}},children:/*#__PURE__*/_jsx(GetAppIcon,{})})}),/*#__PURE__*/_jsx(Snackbar,{open:showSnackbar,autoHideDuration:4000,onClose:()=>setShowSnackbar(false),anchorOrigin:{vertical:'bottom',horizontal:'center'},children:/*#__PURE__*/_jsx(Alert,{onClose:()=>setShowSnackbar(false),severity:\"info\",sx:{width:'100%'},children:\"App is already installed! You're using the best version.\"})})]});};export default FloatingDownloadButton;","map":{"version":3,"names":["React","useState","useEffect","Fab","Tooltip","useMediaQuery","useTheme","Snackbar","Alert","GetApp","GetAppIcon","Close","CloseIcon","useNavigate","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","FloatingDownloadButton","theme","isMobile","breakpoints","down","navigate","showSnackbar","setShowSnackbar","isPWAInstalled","setIsPWAInstalled","window","matchMedia","matches","handleDownloadClick","children","title","placement","color","onClick","sx","position","bottom","right","zIndex","boxShadow","transform","transition","open","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","severity","width"],"sources":["/Users/lukasygina/image-share-app-1/client/src/components/FloatingDownloadButton.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Fab,\n  Tooltip,\n  useMediaQuery,\n  useTheme,\n  Snackbar,\n  Alert\n} from '@mui/material';\nimport {\n  GetApp as GetAppIcon,\n  Close as CloseIcon\n} from '@mui/icons-material';\nimport { useNavigate } from 'react-router-dom';\n\nconst FloatingDownloadButton = () => {\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\n  const navigate = useNavigate();\n  const [showSnackbar, setShowSnackbar] = useState(false);\n  const [isPWAInstalled, setIsPWAInstalled] = useState(false);\n\n  useEffect(() => {\n    // Check if PWA is already installed\n    if (window.matchMedia('(display-mode: standalone)').matches) {\n      setIsPWAInstalled(true);\n    }\n  }, []);\n\n  const handleDownloadClick = () => {\n    if (isPWAInstalled) {\n      setShowSnackbar(true);\n    } else {\n      navigate('/download');\n    }\n  };\n\n  // Don't show if not mobile or if PWA is already installed\n  if (!isMobile || isPWAInstalled) {\n    return null;\n  }\n\n  return (\n    <>\n      <Tooltip title=\"Download App\" placement=\"left\">\n        <Fab\n          color=\"primary\"\n          aria-label=\"download app\"\n          onClick={handleDownloadClick}\n          sx={{\n            position: 'fixed',\n            bottom: 16,\n            right: 16,\n            zIndex: 1000,\n            boxShadow: 3,\n            '&:hover': {\n              boxShadow: 6,\n              transform: 'scale(1.1)',\n              transition: 'all 0.2s ease-in-out'\n            }\n          }}\n        >\n          <GetAppIcon />\n        </Fab>\n      </Tooltip>\n\n      <Snackbar\n        open={showSnackbar}\n        autoHideDuration={4000}\n        onClose={() => setShowSnackbar(false)}\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n      >\n        <Alert \n          onClose={() => setShowSnackbar(false)} \n          severity=\"info\" \n          sx={{ width: '100%' }}\n        >\n          App is already installed! You're using the best version.\n        </Alert>\n      </Snackbar>\n    </>\n  );\n};\n\nexport default FloatingDownloadButton; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OACEC,GAAG,CACHC,OAAO,CACPC,aAAa,CACbC,QAAQ,CACRC,QAAQ,CACRC,KAAK,KACA,eAAe,CACtB,OACEC,MAAM,GAAI,CAAAC,UAAU,CACpBC,KAAK,GAAI,CAAAC,SAAS,KACb,qBAAqB,CAC5B,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,sBAAsB,CAAGA,CAAA,GAAM,CACnC,KAAM,CAAAC,KAAK,CAAGf,QAAQ,CAAC,CAAC,CACxB,KAAM,CAAAgB,QAAQ,CAAGjB,aAAa,CAACgB,KAAK,CAACE,WAAW,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC,CAC5D,KAAM,CAAAC,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACa,YAAY,CAAEC,eAAe,CAAC,CAAG1B,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAAC2B,cAAc,CAAEC,iBAAiB,CAAC,CAAG5B,QAAQ,CAAC,KAAK,CAAC,CAE3DC,SAAS,CAAC,IAAM,CACd;AACA,GAAI4B,MAAM,CAACC,UAAU,CAAC,4BAA4B,CAAC,CAACC,OAAO,CAAE,CAC3DH,iBAAiB,CAAC,IAAI,CAAC,CACzB,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAI,mBAAmB,CAAGA,CAAA,GAAM,CAChC,GAAIL,cAAc,CAAE,CAClBD,eAAe,CAAC,IAAI,CAAC,CACvB,CAAC,IAAM,CACLF,QAAQ,CAAC,WAAW,CAAC,CACvB,CACF,CAAC,CAED;AACA,GAAI,CAACH,QAAQ,EAAIM,cAAc,CAAE,CAC/B,MAAO,KAAI,CACb,CAEA,mBACET,KAAA,CAAAF,SAAA,EAAAiB,QAAA,eACEnB,IAAA,CAACX,OAAO,EAAC+B,KAAK,CAAC,cAAc,CAACC,SAAS,CAAC,MAAM,CAAAF,QAAA,cAC5CnB,IAAA,CAACZ,GAAG,EACFkC,KAAK,CAAC,SAAS,CACf,aAAW,cAAc,CACzBC,OAAO,CAAEL,mBAAoB,CAC7BM,EAAE,CAAE,CACFC,QAAQ,CAAE,OAAO,CACjBC,MAAM,CAAE,EAAE,CACVC,KAAK,CAAE,EAAE,CACTC,MAAM,CAAE,IAAI,CACZC,SAAS,CAAE,CAAC,CACZ,SAAS,CAAE,CACTA,SAAS,CAAE,CAAC,CACZC,SAAS,CAAE,YAAY,CACvBC,UAAU,CAAE,sBACd,CACF,CAAE,CAAAZ,QAAA,cAEFnB,IAAA,CAACL,UAAU,GAAE,CAAC,CACX,CAAC,CACC,CAAC,cAEVK,IAAA,CAACR,QAAQ,EACPwC,IAAI,CAAErB,YAAa,CACnBsB,gBAAgB,CAAE,IAAK,CACvBC,OAAO,CAAEA,CAAA,GAAMtB,eAAe,CAAC,KAAK,CAAE,CACtCuB,YAAY,CAAE,CAAEC,QAAQ,CAAE,QAAQ,CAAEC,UAAU,CAAE,QAAS,CAAE,CAAAlB,QAAA,cAE3DnB,IAAA,CAACP,KAAK,EACJyC,OAAO,CAAEA,CAAA,GAAMtB,eAAe,CAAC,KAAK,CAAE,CACtC0B,QAAQ,CAAC,MAAM,CACfd,EAAE,CAAE,CAAEe,KAAK,CAAE,MAAO,CAAE,CAAApB,QAAA,CACvB,0DAED,CAAO,CAAC,CACA,CAAC,EACX,CAAC,CAEP,CAAC,CAED,cAAe,CAAAd,sBAAsB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}